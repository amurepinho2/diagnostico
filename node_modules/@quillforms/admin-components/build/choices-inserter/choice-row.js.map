{"version":3,"names":["_icons","require","_components","_mediaUtils","_emotion","_choicesContext","_textControl","_interopRequireDefault","_pictureIcon","ChoiceRow","choices","index","provided","withAttachment","labelChangeHandler","addChoice","deleteChoice","deleteImageHandler","handleMediaUpload","useChoiceContext","item","imageUrl","_react","createElement","className","dragHandleProps","Icon","icon","dragHandle","css","closeSmall","onClick","MediaUpload","onSelect","media","allowedTypes","render","open","default","value","label","onChange","val","plus","length","_default","exports"],"sources":["@quillforms/admin-components/src/choices-inserter/choice-row.tsx"],"sourcesContent":["/**\n * WordPress Dependencies\n */\nimport { plus, closeSmall, dragHandle } from '@wordpress/icons';\nimport { Icon } from '@wordpress/components';\nimport { MediaUpload } from '@wordpress/media-utils';\n\n/**\n * External Dependencies\n */\nimport { css } from 'emotion';\n\n/**\n * Internal Depenedencies\n */\nimport { useChoiceContext } from './choices-context';\nimport TextControl from '../text-control';\nimport type { Choices } from '../choices-bulk-btn/types';\nimport { DraggableProvided } from 'react-beautiful-dnd';\nimport PictureIcon from './picture-icon';\ninterface Props {\n\tchoices: Choices;\n\tindex: number;\n\tprovided: DraggableProvided;\n}\nconst ChoiceRow: React.FC< Props > = ( { choices, index, provided } ) => {\n\tconst {\n\t\twithAttachment,\n\t\tlabelChangeHandler,\n\t\taddChoice,\n\t\tdeleteChoice,\n\t\tdeleteImageHandler,\n\t\thandleMediaUpload,\n\t} = useChoiceContext();\n\tconst item = choices[ index ];\n\tconst { imageUrl } = item;\n\treturn (\n\t\t<div className=\"admin-components-choices-inserter__choice-row\">\n\t\t\t<div { ...provided.dragHandleProps }>\n\t\t\t\t<Icon icon={ dragHandle } />\n\t\t\t</div>\n\t\t\t{ withAttachment && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\tposition: ABSOLUTE;\n\t\t\t\t\t\tleft: 31px;\n\t\t\t\t\t\tz-index: 111111111;\n\t\t\t\t\t\theight: 34px;\n\t\t\t\t\t\twidth: 34px;\n\t\t\t\t\t\tpadding: 4px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tborder-right: 1px solid #e3e3e3;\n\t\t\t\t\t` }\n\t\t\t\t>\n\t\t\t\t\t{ imageUrl ? (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\tbackground-image: url( ${ imageUrl } );\n\t\t\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\ttop: -8px;\n\t\t\t\t\t\t\t\t\tright: -8px;\n\t\t\t\t\t\t\t\t\tbackground: #c34c50;\n\t\t\t\t\t\t\t\t\twidth: 15px;\n\t\t\t\t\t\t\t\t\theight: 15px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tdeleteImageHandler( index );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ ( media ) =>\n\t\t\t\t\t\t\t\thandleMediaUpload( media, index )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<PictureIcon onClick={ open } />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<TextControl\n\t\t\t\tclassName={ css`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tinput.components-text-control__input {\n\t\t\t\t\t\t${ withAttachment && `padding-left: 40px !important` }\n\t\t\t\t\t}\n\t\t\t\t` }\n\t\t\t\tvalue={ item.label }\n\t\t\t\tonChange={ ( val ) => labelChangeHandler( val, index ) }\n\t\t\t/>\n\n\t\t\t<div className=\"admin-components-choices-inserter__choice-actions\">\n\t\t\t\t<div className=\"admin-components-choices-inserter__choice-add\">\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tonClick={ () => addChoice( index + 1 ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{ choices.length > 1 && (\n\t\t\t\t\t<div className=\"admin-components-choices-inserter__choice-remove\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tdeleteChoice( item.value );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ChoiceRow;\n"],"mappings":";;;;;;;;AAGA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAKA,IAAAG,QAAA,GAAAH,OAAA;AAKA,IAAAI,eAAA,GAAAJ,OAAA;AACA,IAAAK,YAAA,GAAAC,sBAAA,CAAAN,OAAA;AAGA,IAAAO,YAAA,GAAAD,sBAAA,CAAAN,OAAA;AAnBA;AACA;AACA;;AAKA;AACA;AACA;;AAGA;AACA;AACA;;AAWA,MAAMQ,SAA4B,GAAGA,CAAE;EAAEC,OAAO;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAM;EACxE,MAAM;IACLC,cAAc;IACdC,kBAAkB;IAClBC,SAAS;IACTC,YAAY;IACZC,kBAAkB;IAClBC;EACD,CAAC,GAAG,IAAAC,gCAAgB,EAAC,CAAC;EACtB,MAAMC,IAAI,GAAGV,OAAO,CAAEC,KAAK,CAAE;EAC7B,MAAM;IAAEU;EAAS,CAAC,GAAGD,IAAI;EACzB,OACC,IAAAE,MAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC;EAA+C,GAC7D,IAAAF,MAAA,CAAAC,aAAA;IAAA,GAAUX,QAAQ,CAACa;EAAe,GACjC,IAAAH,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAwB,IAAI;IAACC,IAAI,EAAGC;EAAY,CAAE,CACvB,CAAC,EACJf,cAAc,IACf,IAAAS,MAAA,CAAAC,aAAA;IACCC,SAAS,EAAG,IAAAK,YAAG,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAQ,GAEDR,QAAQ,GACT,IAAAC,MAAA,CAAAC,aAAA;IACCC,SAAS,EAAG,IAAAK,YAAG,CAAC;AACvB;AACA;AACA,iCAAkCR,QAAU;AAC5C;AACA;EAAU,GAEH,IAAAC,MAAA,CAAAC,aAAA;IACCC,SAAS,EAAG,IAAAK,YAAG,CAAC;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAW,GAEH,IAAAP,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAwB,IAAI;IACJF,SAAS,EAAG,IAAAK,YAAG,CAAC;AACzB;AACA,UAAY;IACHF,IAAI,EAAGG,iBAAY;IACnBC,OAAO,EAAGA,CAAA,KAAM;MACfd,kBAAkB,CAAEN,KAAM,CAAC;IAC5B;EAAG,CACH,CACG,CACD,CAAC,GAEN,IAAAW,MAAA,CAAAC,aAAA,EAACpB,WAAA,CAAA6B,WAAW;IACXC,QAAQ,EAAKC,KAAK,IACjBhB,iBAAiB,CAAEgB,KAAK,EAAEvB,KAAM,CAChC;IACDwB,YAAY,EAAG,CAAE,OAAO,CAAI;IAC5BC,MAAM,EAAGA,CAAE;MAAEC;IAAK,CAAC,KAClB,IAAAf,MAAA,CAAAC,aAAA,EAACf,YAAA,CAAA8B,OAAW;MAACP,OAAO,EAAGM;IAAM,CAAE;EAC7B,CACH,CAEE,CACL,EACD,IAAAf,MAAA,CAAAC,aAAA,EAACjB,YAAA,CAAAgC,OAAW;IACXd,SAAS,EAAG,IAAAK,YAAG,CAAC;AACpB;AACA;AACA,QAAShB,cAAc,IAAK,+BAAgC;AAC5D;AACA,KAAO;IACH0B,KAAK,EAAGnB,IAAI,CAACoB,KAAO;IACpBC,QAAQ,EAAKC,GAAG,IAAM5B,kBAAkB,CAAE4B,GAAG,EAAE/B,KAAM;EAAG,CACxD,CAAC,EAEF,IAAAW,MAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC;EAAmD,GACjE,IAAAF,MAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC;EAA+C,GAC7D,IAAAF,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAwB,IAAI;IACJC,IAAI,EAAGgB,WAAM;IACbZ,OAAO,EAAGA,CAAA,KAAMhB,SAAS,CAAEJ,KAAK,GAAG,CAAE;EAAG,CACxC,CACG,CAAC,EACJD,OAAO,CAACkC,MAAM,GAAG,CAAC,IACnB,IAAAtB,MAAA,CAAAC,aAAA;IAAKC,SAAS,EAAC;EAAkD,GAChE,IAAAF,MAAA,CAAAC,aAAA,EAACrB,WAAA,CAAAwB,IAAI;IACJF,SAAS,EAAG,IAAAK,YAAG,CAAC;AACvB;AACA,QAAU;IACHF,IAAI,EAAGG,iBAAY;IACnBC,OAAO,EAAGA,CAAA,KAAM;MACff,YAAY,CAAEI,IAAI,CAACmB,KAAM,CAAC;IAC3B;EAAG,CACH,CACG,CAEF,CACD,CAAC;AAER,CAAC;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAEa7B,SAAS","ignoreList":[]}