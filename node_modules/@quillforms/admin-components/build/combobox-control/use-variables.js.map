{"version":3,"names":["_data","require","_lodash","useVariables","section","variables","useSelect","select","_ref","getLogic","fields","size","id","variable","Object","entries","push","type","value","label","iconBox","isMergeTag","_default","exports","default"],"sources":["@quillforms/admin-components/src/combobox-control/use-variables.ts"],"sourcesContent":["/**\n * QuillForms Dependencies\n */\nimport type { FormLogicVariables } from '@quillforms/types';\n\n/**\n * WordPress Dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * External Dependencies\n */\nimport { size } from 'lodash';\n\n/**\n * Internal Dependencies\n */\nimport type { Options } from '.';\n\nconst useVariables = ( { section } ) => {\n\n\tconst { variables } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariables:\n\t\t\t\t( select(\n\t\t\t\t\t'quillForms/logic-editor'\n\t\t\t\t\t// @ts-ignore.\n\t\t\t\t)?.getLogic()?.variables as FormLogicVariables ) ?? {},\n\t\t};\n\t} );\n\n\tconst fields: Options = [];\n\tif ( size( variables ) > 0 ) {\n\t\tfor ( const [ id, variable ] of Object.entries( variables ) ) {\n\t\t\tfields.push( {\n\t\t\t\ttype: 'variable',\n\t\t\t\tvalue: id,\n\t\t\t\tlabel: variable?.label,\n\t\t\t\ticonBox: {},\n\t\t\t\tsection,\n\t\t\t\tisMergeTag: true,\n\t\t\t} );\n\t\t}\n\t}\n\n\treturn fields;\n};\n\nexport default useVariables;\n"],"mappings":";;;;;;AAQA,IAAAA,KAAA,GAAAC,OAAA;AAKA,IAAAC,OAAA,GAAAD,OAAA;AAbA;AACA;AACA;;AAGA;AACA;AACA;;AAGA;AACA;AACA;;AAQA,MAAME,YAAY,GAAGA,CAAE;EAAEC;AAAQ,CAAC,KAAM;EAEvC,MAAM;IAAEC;EAAU,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAAA,IAAAC,IAAA;IAC9C,OAAO;MACNH,SAAS,GAAAG,IAAA,GACND,MAAM,CACP;MACA;MACD,CAAC,EAAEE,QAAQ,CAAC,CAAC,EAAEJ,SAAS,cAAAG,IAAA,cAAAA,IAAA,GAA4B,CAAC;IACvD,CAAC;EACF,CAAE,CAAC;EAEH,MAAME,MAAe,GAAG,EAAE;EAC1B,IAAK,IAAAC,YAAI,EAAEN,SAAU,CAAC,GAAG,CAAC,EAAG;IAC5B,KAAM,MAAM,CAAEO,EAAE,EAAEC,QAAQ,CAAE,IAAIC,MAAM,CAACC,OAAO,CAAEV,SAAU,CAAC,EAAG;MAC7DK,MAAM,CAACM,IAAI,CAAE;QACZC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAEN,EAAE;QACTO,KAAK,EAAEN,QAAQ,EAAEM,KAAK;QACtBC,OAAO,EAAE,CAAC,CAAC;QACXhB,OAAO;QACPiB,UAAU,EAAE;MACb,CAAE,CAAC;IACJ;EACD;EAEA,OAAOX,MAAM;AACd,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEarB,YAAY","ignoreList":[]}