{"version":3,"names":["plus","closeSmall","dragHandle","Icon","MediaUpload","css","useChoiceContext","TextControl","PictureIcon","ChoiceRow","choices","index","provided","withAttachment","labelChangeHandler","addChoice","deleteChoice","deleteImageHandler","handleMediaUpload","item","imageUrl","createElement","className","dragHandleProps","icon","onClick","onSelect","media","allowedTypes","render","open","value","label","onChange","val","length"],"sources":["@quillforms/admin-components/src/choices-inserter/choice-row.tsx"],"sourcesContent":["/**\n * WordPress Dependencies\n */\nimport { plus, closeSmall, dragHandle } from '@wordpress/icons';\nimport { Icon } from '@wordpress/components';\nimport { MediaUpload } from '@wordpress/media-utils';\n\n/**\n * External Dependencies\n */\nimport { css } from 'emotion';\n\n/**\n * Internal Depenedencies\n */\nimport { useChoiceContext } from './choices-context';\nimport TextControl from '../text-control';\nimport type { Choices } from '../choices-bulk-btn/types';\nimport { DraggableProvided } from 'react-beautiful-dnd';\nimport PictureIcon from './picture-icon';\ninterface Props {\n\tchoices: Choices;\n\tindex: number;\n\tprovided: DraggableProvided;\n}\nconst ChoiceRow: React.FC< Props > = ( { choices, index, provided } ) => {\n\tconst {\n\t\twithAttachment,\n\t\tlabelChangeHandler,\n\t\taddChoice,\n\t\tdeleteChoice,\n\t\tdeleteImageHandler,\n\t\thandleMediaUpload,\n\t} = useChoiceContext();\n\tconst item = choices[ index ];\n\tconst { imageUrl } = item;\n\treturn (\n\t\t<div className=\"admin-components-choices-inserter__choice-row\">\n\t\t\t<div { ...provided.dragHandleProps }>\n\t\t\t\t<Icon icon={ dragHandle } />\n\t\t\t</div>\n\t\t\t{ withAttachment && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\tposition: ABSOLUTE;\n\t\t\t\t\t\tleft: 31px;\n\t\t\t\t\t\tz-index: 111111111;\n\t\t\t\t\t\theight: 34px;\n\t\t\t\t\t\twidth: 34px;\n\t\t\t\t\t\tpadding: 4px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tborder-right: 1px solid #e3e3e3;\n\t\t\t\t\t` }\n\t\t\t\t>\n\t\t\t\t\t{ imageUrl ? (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\tbackground-image: url( ${ imageUrl } );\n\t\t\t\t\t\t\t\tbackground-size: cover;\n\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\ttop: -8px;\n\t\t\t\t\t\t\t\t\tright: -8px;\n\t\t\t\t\t\t\t\t\tbackground: #c34c50;\n\t\t\t\t\t\t\t\t\twidth: 15px;\n\t\t\t\t\t\t\t\t\theight: 15px;\n\t\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tdeleteImageHandler( index );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\tonSelect={ ( media ) =>\n\t\t\t\t\t\t\t\thandleMediaUpload( media, index )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<PictureIcon onClick={ open } />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<TextControl\n\t\t\t\tclassName={ css`\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tinput.components-text-control__input {\n\t\t\t\t\t\t${ withAttachment && `padding-left: 40px !important` }\n\t\t\t\t\t}\n\t\t\t\t` }\n\t\t\t\tvalue={ item.label }\n\t\t\t\tonChange={ ( val ) => labelChangeHandler( val, index ) }\n\t\t\t/>\n\n\t\t\t<div className=\"admin-components-choices-inserter__choice-actions\">\n\t\t\t\t<div className=\"admin-components-choices-inserter__choice-add\">\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tonClick={ () => addChoice( index + 1 ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{ choices.length > 1 && (\n\t\t\t\t\t<div className=\"admin-components-choices-inserter__choice-remove\">\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={ css`\n\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t` }\n\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tdeleteChoice( item.value );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ChoiceRow;\n"],"mappings":"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","ignoreList":[]}