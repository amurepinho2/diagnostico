{"version":3,"names":["useSelect","size","useVariables","section","variables","select","_ref","getLogic","fields","id","variable","Object","entries","push","type","value","label","iconBox","isMergeTag"],"sources":["@quillforms/admin-components/src/combobox-control/use-variables.ts"],"sourcesContent":["/**\n * QuillForms Dependencies\n */\nimport type { FormLogicVariables } from '@quillforms/types';\n\n/**\n * WordPress Dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * External Dependencies\n */\nimport { size } from 'lodash';\n\n/**\n * Internal Dependencies\n */\nimport type { Options } from '.';\n\nconst useVariables = ( { section } ) => {\n\n\tconst { variables } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariables:\n\t\t\t\t( select(\n\t\t\t\t\t'quillForms/logic-editor'\n\t\t\t\t\t// @ts-ignore.\n\t\t\t\t)?.getLogic()?.variables as FormLogicVariables ) ?? {},\n\t\t};\n\t} );\n\n\tconst fields: Options = [];\n\tif ( size( variables ) > 0 ) {\n\t\tfor ( const [ id, variable ] of Object.entries( variables ) ) {\n\t\t\tfields.push( {\n\t\t\t\ttype: 'variable',\n\t\t\t\tvalue: id,\n\t\t\t\tlabel: variable?.label,\n\t\t\t\ticonBox: {},\n\t\t\t\tsection,\n\t\t\t\tisMergeTag: true,\n\t\t\t} );\n\t\t}\n\t}\n\n\treturn fields;\n};\n\nexport default useVariables;\n"],"mappings":"AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,iBAAiB;;AAE3C;AACA;AACA;AACA,SAASC,IAAI,QAAQ,QAAQ;;AAE7B;AACA;AACA;;AAGA,MAAMC,YAAY,GAAGA,CAAE;EAAEC;AAAQ,CAAC,KAAM;EAEvC,MAAM;IAAEC;EAAU,CAAC,GAAGJ,SAAS,CAAIK,MAAM,IAAM;IAAA,IAAAC,IAAA;IAC9C,OAAO;MACNF,SAAS,GAAAE,IAAA,GACND,MAAM,CACP;MACA;MACD,CAAC,EAAEE,QAAQ,CAAC,CAAC,EAAEH,SAAS,cAAAE,IAAA,cAAAA,IAAA,GAA4B,CAAC;IACvD,CAAC;EACF,CAAE,CAAC;EAEH,MAAME,MAAe,GAAG,EAAE;EAC1B,IAAKP,IAAI,CAAEG,SAAU,CAAC,GAAG,CAAC,EAAG;IAC5B,KAAM,MAAM,CAAEK,EAAE,EAAEC,QAAQ,CAAE,IAAIC,MAAM,CAACC,OAAO,CAAER,SAAU,CAAC,EAAG;MAC7DI,MAAM,CAACK,IAAI,CAAE;QACZC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAEN,EAAE;QACTO,KAAK,EAAEN,QAAQ,EAAEM,KAAK;QACtBC,OAAO,EAAE,CAAC,CAAC;QACXd,OAAO;QACPe,UAAU,EAAE;MACb,CAAE,CAAC;IACJ;EACD;EAEA,OAAOV,MAAM;AACd,CAAC;AAED,eAAeN,YAAY","ignoreList":[]}