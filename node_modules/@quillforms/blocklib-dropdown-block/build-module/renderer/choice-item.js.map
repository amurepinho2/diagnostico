{"version":3,"names":["useTheme","css","useCx","useState","useEffect","useRef","classnames","tinyColor","styles","selectionTimer","ChoiceItem","choice","blockId","choiceIndex","val","clickHandler","showDropdown","clicked","hovered","isBeingSelected","setIsBeingSelected","item","cx","theme","answersColor","isSelected","value","current","click","createElement","ref","id","className","selected","setAlpha","toString","isDark","DropdownChoiceWrapper","role","onClick","clearTimeout","setTimeout","label"],"sources":["@quillforms/blocklib-dropdown-block/src/renderer/choice-item.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useTheme } from '@quillforms/renderer-core';\r\nimport { css, useCx } from '@quillforms/utils';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport tinyColor from 'tinycolor2';\r\nimport * as styles from './styles';\r\n\r\nlet selectionTimer;\r\n\r\nconst ChoiceItem = ({\r\n\tchoice,\r\n\tblockId,\r\n\tchoiceIndex,\r\n\tval,\r\n\tclickHandler,\r\n\tshowDropdown,\r\n\tclicked,\r\n\thovered,\r\n}) => {\r\n\tconst [isBeingSelected, setIsBeingSelected] = useState(false);\r\n\tconst item = useRef();\r\n\tconst cx = useCx();\r\n\tuseEffect(() => {\r\n\t\tif (!showDropdown) setIsBeingSelected(false);\r\n\t}, [showDropdown]);\r\n\tconst theme = useTheme();\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\tconst isSelected = val && val === choice.value;\r\n\tuseEffect(() => {\r\n\t\tif (clicked) item.current.click();\r\n\t\treturn () => {\r\n\t\t\tclicked = false;\r\n\t\t};\r\n\t}, [clicked]);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={item}\r\n\t\t\tid={`block-${blockId}-option-${choiceIndex}`}\r\n\t\t\tclassName={cx(\r\n\t\t\t\t'dropdown__choiceWrapper',\r\n\t\t\t\t{\r\n\t\t\t\t\tselected: isSelected,\r\n\t\t\t\t\tisBeingSelected,\r\n\t\t\t\t},\r\n\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${hovered\r\n\t\t\t\t\t\t? answersColor.setAlpha(0.2).toString()\r\n\t\t\t\t\t\t: answersColor.setAlpha(0.1).toString()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tborder-color: ${theme.answersColor};\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\r\n\t\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\t\tbackground: ${answersColor.setAlpha(0.2).toString()};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.selected {\r\n\t\t\t\t\t\t\tbackground: ${tinyColor(theme.answersColor).setAlpha(0.75).toString()};\r\n\t\t\t\t\t\t\tcolor: ${tinyColor(theme.answersColor).isDark() ? '#fff' : '#333'}\r\n\t\t\t\t\t`,\r\n\t\t\t\tstyles.DropdownChoiceWrapper\r\n\t\t\t)}\r\n\t\t\trole=\"presentation\"\r\n\t\t\tonClick={() => {\r\n\t\t\t\tif (isSelected) {\r\n\t\t\t\t\tclearTimeout(selectionTimer);\r\n\t\t\t\t}\r\n\t\t\t\tif (!isSelected) setIsBeingSelected(true);\r\n\t\t\t\tclickHandler();\r\n\t\t\t\tselectionTimer = setTimeout(() => {\r\n\t\t\t\t\tif (isBeingSelected) setIsBeingSelected(false);\r\n\t\t\t\t}, 400);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{choice.label}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceItem;\r\n"],"mappings":"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","ignoreList":[]}