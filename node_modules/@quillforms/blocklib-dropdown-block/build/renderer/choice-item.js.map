{"version":3,"names":["_react","require","_rendererCore","_utils","_classnames","_interopRequireDefault","_tinycolor","styles","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","selectionTimer","ChoiceItem","choice","blockId","choiceIndex","val","clickHandler","showDropdown","clicked","hovered","isBeingSelected","setIsBeingSelected","useState","item","useRef","cx","useCx","useEffect","theme","useTheme","answersColor","tinyColor","isSelected","value","current","click","createElement","ref","id","className","selected","css","setAlpha","toString","isDark","DropdownChoiceWrapper","role","onClick","clearTimeout","setTimeout","label","_default","exports"],"sources":["@quillforms/blocklib-dropdown-block/src/renderer/choice-item.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useTheme } from '@quillforms/renderer-core';\r\nimport { css, useCx } from '@quillforms/utils';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport tinyColor from 'tinycolor2';\r\nimport * as styles from './styles';\r\n\r\nlet selectionTimer;\r\n\r\nconst ChoiceItem = ({\r\n\tchoice,\r\n\tblockId,\r\n\tchoiceIndex,\r\n\tval,\r\n\tclickHandler,\r\n\tshowDropdown,\r\n\tclicked,\r\n\thovered,\r\n}) => {\r\n\tconst [isBeingSelected, setIsBeingSelected] = useState(false);\r\n\tconst item = useRef();\r\n\tconst cx = useCx();\r\n\tuseEffect(() => {\r\n\t\tif (!showDropdown) setIsBeingSelected(false);\r\n\t}, [showDropdown]);\r\n\tconst theme = useTheme();\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\tconst isSelected = val && val === choice.value;\r\n\tuseEffect(() => {\r\n\t\tif (clicked) item.current.click();\r\n\t\treturn () => {\r\n\t\t\tclicked = false;\r\n\t\t};\r\n\t}, [clicked]);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={item}\r\n\t\t\tid={`block-${blockId}-option-${choiceIndex}`}\r\n\t\t\tclassName={cx(\r\n\t\t\t\t'dropdown__choiceWrapper',\r\n\t\t\t\t{\r\n\t\t\t\t\tselected: isSelected,\r\n\t\t\t\t\tisBeingSelected,\r\n\t\t\t\t},\r\n\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${hovered\r\n\t\t\t\t\t\t? answersColor.setAlpha(0.2).toString()\r\n\t\t\t\t\t\t: answersColor.setAlpha(0.1).toString()\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tborder-color: ${theme.answersColor};\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\r\n\t\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\t\tbackground: ${answersColor.setAlpha(0.2).toString()};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.selected {\r\n\t\t\t\t\t\t\tbackground: ${tinyColor(theme.answersColor).setAlpha(0.75).toString()};\r\n\t\t\t\t\t\t\tcolor: ${tinyColor(theme.answersColor).isDark() ? '#fff' : '#333'}\r\n\t\t\t\t\t`,\r\n\t\t\t\tstyles.DropdownChoiceWrapper\r\n\t\t\t)}\r\n\t\t\trole=\"presentation\"\r\n\t\t\tonClick={() => {\r\n\t\t\t\tif (isSelected) {\r\n\t\t\t\t\tclearTimeout(selectionTimer);\r\n\t\t\t\t}\r\n\t\t\t\tif (!isSelected) setIsBeingSelected(true);\r\n\t\t\t\tclickHandler();\r\n\t\t\t\tselectionTimer = setTimeout(() => {\r\n\t\t\t\t\tif (isBeingSelected) setIsBeingSelected(false);\r\n\t\t\t\t}, 400);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{choice.label}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChoiceItem;\r\n"],"mappings":"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","ignoreList":[]}