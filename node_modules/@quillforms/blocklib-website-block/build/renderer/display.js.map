{"version":3,"names":["_react","require","_rendererCore","_tinycolor","_interopRequireDefault","_emotion","_classnames","WebsiteOutput","props","id","attributes","setIsValid","setIsAnswered","setValidationErr","showNextBtn","val","setVal","showErrMsg","inputRef","isTouchScreen","setFooterDisplay","isPreview","isReviewing","messages","useMessages","theme","useBlockTheme","themeId","answersColor","tinyColor","required","placeholder","validateUrl","url","pattern","RegExp","test","checkfieldValidation","value","useEffect","changeHandler","e","target","createElement","ref","className","classnames","css","setAlpha","toString","onChange","length","onFocus","onBlur","autoComplete","_default","exports","default"],"sources":["@quillforms/blocklib-website-block/src/renderer/display.js"],"sourcesContent":["/**\r\n * QuillForms Depndencies\r\n */\r\nimport { useMessages, useBlockTheme } from '@quillforms/renderer-core';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport tinyColor from 'tinycolor2';\r\nimport { css } from 'emotion';\r\nimport classnames from 'classnames';\r\n\r\nconst WebsiteOutput = (props) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes,\r\n\t\tsetIsValid,\r\n\t\tsetIsAnswered,\r\n\t\tsetValidationErr,\r\n\t\tshowNextBtn,\r\n\t\tval,\r\n\t\tsetVal,\r\n\t\tshowErrMsg,\r\n\t\tinputRef,\r\n\t\tisTouchScreen,\r\n\t\tsetFooterDisplay,\r\n\t\tisPreview,\r\n\t\tisReviewing,\r\n\t} = props;\r\n\tconst messages = useMessages();\r\n\tconst theme = useBlockTheme(attributes.themeId);\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\tconst { required, placeholder } = attributes;\r\n\r\n\tconst validateUrl = (url) => {\r\n\t\tconst pattern = new RegExp(\r\n\t\t\t'^(https?:\\\\/\\\\/)?' + // protocol\r\n\t\t\t'((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\r\n\t\t\t'((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\r\n\t\t\t'(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\r\n\t\t\t'(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\r\n\t\t\t'(\\\\#[-a-z\\\\d_]*)?$',\r\n\t\t\t'i'\r\n\t\t); // fragment locator\r\n\t\treturn !!pattern.test(url);\r\n\t};\r\n\r\n\tconst checkfieldValidation = (value) => {\r\n\t\tif (required === true && (!value || value === '')) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.required']);\r\n\t\t} else if (!validateUrl(value) && value) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.url']);\r\n\t\t} else {\r\n\t\t\tsetIsValid(true);\r\n\t\t\tsetValidationErr(null);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isPreview || !isReviewing) checkfieldValidation(val);\r\n\t}, [attributes]);\r\n\r\n\tconst changeHandler = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tcheckfieldValidation(value);\r\n\t\tsetVal(value);\r\n\t\tshowErrMsg(false);\r\n\t\tif (value !== '') {\r\n\t\t\tshowNextBtn(true);\r\n\t\t\tsetIsAnswered(true);\r\n\t\t} else {\r\n\t\t\tsetIsAnswered(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<input\r\n\t\t\tref={inputRef}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tcss`\r\n\t\t\t\t\t& {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t\toutline: none;\r\n\t\t\t\t\t\tpadding-bottom: 8px;\r\n\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(0.3).toString()}\r\n\t\t\t\t\t\t\t0px 1px !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Internet Explorer 10-11 */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Microsoft Edge */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(1).toString()}\r\n\t\t\t\t\t\t\t0px 2px !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t`\r\n\t\t\t)}\r\n\t\t\tid={'website-' + id}\r\n\t\t\tplaceholder={placeholder === false ? 'https://' : placeholder}\r\n\t\t\tonChange={changeHandler}\r\n\t\t\tvalue={val && val.length > 0 ? val : ''}\r\n\t\t\tonFocus={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(false);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonBlur={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tautoComplete=\"off\"\r\n\t\t/>\r\n\t);\r\n};\r\nexport default WebsiteOutput;\r\n"],"mappings":"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","ignoreList":[]}