{"version":3,"names":["BaseControl","ControlWrapper","ControlLabel","SelectControl","useDispatch","css","DateControls","props","id","attributes","format","separator","setAttributes","formatOptions","key","name","separatorOptions","setFieldAnswer","setIsFieldAnswered","setIsFieldValid","setFieldValidationErr","createElement","orientation","label","className","onChange","selectedItem","options","value","find","option"],"sources":["@quillforms/blocklib-date-block/src/admin/controls.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport {\r\n\tBaseControl,\r\n\tControlWrapper,\r\n\tControlLabel,\r\n\tSelectControl,\r\n} from '@quillforms/admin-components';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\nconst DateControls = ( props ) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes: { format, separator },\r\n\t\tsetAttributes,\r\n\t} = props;\r\n\tconst formatOptions = [\r\n\t\t{\r\n\t\t\tkey: 'MMDDYYYY',\r\n\t\t\tname: 'MMDDYYYY',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: 'DDMMYYYY',\r\n\t\t\tname: 'DDMMYYYY',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: 'YYYYMMDD',\r\n\t\t\tname: 'YYYYMMDD',\r\n\t\t},\r\n\t];\r\n\tconst separatorOptions = [\r\n\t\t{\r\n\t\t\tkey: '/',\r\n\t\t\tname: '/',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '-',\r\n\t\t\tname: '-',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '.',\r\n\t\t\tname: '.',\r\n\t\t},\r\n\t];\r\n\tconst {\r\n\t\tsetFieldAnswer,\r\n\t\tsetIsFieldAnswered,\r\n\t\tsetIsFieldValid,\r\n\t\tsetFieldValidationErr,\r\n\t} = useDispatch( 'quillForms/renderer-core' );\r\n\treturn (\r\n\t\t<BaseControl>\r\n\t\t\t<ControlWrapper orientation=\"vertical\">\r\n\t\t\t\t<ControlLabel label=\"Date Format\" />\r\n\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tmargin-top: 5px;\r\n\t\t\t\t\t` }\r\n\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t// Formatting changes can cause errors if the field has value already.\r\n\t\t\t\t\t\t// The problem comes when trying to assign invalid values to month or year or day.\r\n\t\t\t\t\t\t// That's why we are going to reset the field value.\r\n\t\t\t\t\t\t// The ideal solution should be reformatting the existing value to the new format not just resetting.\r\n\t\t\t\t\t\tsetFieldAnswer( id, '' );\r\n\t\t\t\t\t\tsetIsFieldValid( id, true );\r\n\t\t\t\t\t\tsetIsFieldAnswered( id, false );\r\n\t\t\t\t\t\tsetFieldValidationErr( id, null );\r\n\t\t\t\t\t\tsetAttributes( { format: selectedItem.key } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\toptions={ formatOptions }\r\n\t\t\t\t\tvalue={ formatOptions.find(\r\n\t\t\t\t\t\t( option ) => option.key === format\r\n\t\t\t\t\t) }\r\n\t\t\t\t/>\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tclassName={ css`\r\n\t\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t\t` }\r\n\t\t\t\t\tvalue={ separatorOptions.find(\r\n\t\t\t\t\t\t( option ) => option.key === separator\r\n\t\t\t\t\t) }\r\n\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t// Formatting changes can cause errors if the field has value already.\r\n\t\t\t\t\t\t// The problem comes when trying to assign invalid values to month or year or day.\r\n\t\t\t\t\t\t// That's why we are going to reset the field value.\r\n\t\t\t\t\t\t// The ideal solution should be reformatting the existing value to the new format not just resetting.\r\n\t\t\t\t\t\tsetFieldAnswer( id, '' );\r\n\t\t\t\t\t\tsetIsFieldValid( id, true );\r\n\t\t\t\t\t\tsetIsFieldAnswered( id, false );\r\n\t\t\t\t\t\tsetFieldValidationErr( id, null );\r\n\t\t\t\t\t\tsetAttributes( { separator: selectedItem.key } );\r\n\t\t\t\t\t} }\r\n\t\t\t\t\toptions={ separatorOptions }\r\n\t\t\t\t/>\r\n\t\t\t</ControlWrapper>\r\n\t\t</BaseControl>\r\n\t);\r\n};\r\nexport default DateControls;\r\n"],"mappings":";AAAA;AACA;AACA;AACA,SACCA,WAAW,EACXC,cAAc,EACdC,YAAY,EACZC,aAAa,QACP,8BAA8B;;AAErC;AACA;AACA;AACA,SAASC,WAAW,QAAQ,iBAAiB;;AAE7C;AACA;AACA;AACA,SAASC,GAAG,QAAQ,SAAS;AAE7B,MAAMC,YAAY,GAAKC,KAAK,IAAM;EACjC,MAAM;IACLC,EAAE;IACFC,UAAU,EAAE;MAAEC,MAAM;MAAEC;IAAU,CAAC;IACjCC;EACD,CAAC,GAAGL,KAAK;EACT,MAAMM,aAAa,GAAG,CACrB;IACCC,GAAG,EAAE,UAAU;IACfC,IAAI,EAAE;EACP,CAAC,EACD;IACCD,GAAG,EAAE,UAAU;IACfC,IAAI,EAAE;EACP,CAAC,EACD;IACCD,GAAG,EAAE,UAAU;IACfC,IAAI,EAAE;EACP,CAAC,CACD;EACD,MAAMC,gBAAgB,GAAG,CACxB;IACCF,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE;EACP,CAAC,EACD;IACCD,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE;EACP,CAAC,EACD;IACCD,GAAG,EAAE,GAAG;IACRC,IAAI,EAAE;EACP,CAAC,CACD;EACD,MAAM;IACLE,cAAc;IACdC,kBAAkB;IAClBC,eAAe;IACfC;EACD,CAAC,GAAGhB,WAAW,CAAE,0BAA2B,CAAC;EAC7C,OACCiB,aAAA,CAACrB,WAAW,QACXqB,aAAA,CAACpB,cAAc;IAACqB,WAAW,EAAC;EAAU,GACrCD,aAAA,CAACnB,YAAY;IAACqB,KAAK,EAAC;EAAa,CAAE,CAAC,EAEpCF,aAAA,CAAClB,aAAa;IACbqB,SAAS,EAAGnB,GAAI;AACrB;AACA,MAAQ;IACHoB,QAAQ,EAAGA,CAAE;MAAEC;IAAa,CAAC,KAAM;MAClC;MACA;MACA;MACA;MACAT,cAAc,CAAET,EAAE,EAAE,EAAG,CAAC;MACxBW,eAAe,CAAEX,EAAE,EAAE,IAAK,CAAC;MAC3BU,kBAAkB,CAAEV,EAAE,EAAE,KAAM,CAAC;MAC/BY,qBAAqB,CAAEZ,EAAE,EAAE,IAAK,CAAC;MACjCI,aAAa,CAAE;QAAEF,MAAM,EAAEgB,YAAY,CAACZ;MAAI,CAAE,CAAC;IAC9C,CAAG;IACHa,OAAO,EAAGd,aAAe;IACzBe,KAAK,EAAGf,aAAa,CAACgB,IAAI,CACvBC,MAAM,IAAMA,MAAM,CAAChB,GAAG,KAAKJ,MAC9B;EAAG,CACH,CAAC,EACFW,aAAA,CAAClB,aAAa;IACbqB,SAAS,EAAGnB,GAAI;AACrB;AACA,MAAQ;IACHuB,KAAK,EAAGZ,gBAAgB,CAACa,IAAI,CAC1BC,MAAM,IAAMA,MAAM,CAAChB,GAAG,KAAKH,SAC9B,CAAG;IACHc,QAAQ,EAAGA,CAAE;MAAEC;IAAa,CAAC,KAAM;MAClC;MACA;MACA;MACA;MACAT,cAAc,CAAET,EAAE,EAAE,EAAG,CAAC;MACxBW,eAAe,CAAEX,EAAE,EAAE,IAAK,CAAC;MAC3BU,kBAAkB,CAAEV,EAAE,EAAE,KAAM,CAAC;MAC/BY,qBAAqB,CAAEZ,EAAE,EAAE,IAAK,CAAC;MACjCI,aAAa,CAAE;QAAED,SAAS,EAAEe,YAAY,CAACZ;MAAI,CAAE,CAAC;IACjD,CAAG;IACHa,OAAO,EAAGX;EAAkB,CAC5B,CACc,CACJ,CAAC;AAEhB,CAAC;AACD,eAAeV,YAAY","ignoreList":[]}