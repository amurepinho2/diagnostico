{"version":3,"names":["useSelect","useDispatch","useEffect","doAction","useBlockTypes","useFormContext","WelcomeScreensWrapper","formId","blockTypes","welcomeScreens","currentBlockId","select","getWelcomeScreens","getCurrentBlockId","id","goNext","createElement","Fragment","length","map","screen","blockType","display","next","isActive","key","attributes"],"sources":["@quillforms/renderer-core/src/components/welcome-screens-wrapper/index.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { doAction } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { useBlockTypes, useFormContext } from '../../hooks';\r\nconst WelcomeScreensWrapper = () => {\r\n\tconst { formId } = useFormContext();\r\n\tconst blockTypes = useBlockTypes();\r\n\r\n\tconst { welcomeScreens, currentBlockId } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\twelcomeScreens: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getWelcomeScreens(),\r\n\t\t\tcurrentBlockId: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getCurrentBlockId(),\r\n\t\t};\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\t// fire event on unmount.\r\n\t\treturn () => {\r\n\t\t\tdoAction( 'QuillForms.RendererCore.WelcomeScreenPassed', {\r\n\t\t\t\tformId,\r\n\t\t\t\tid: currentBlockId,\r\n\t\t\t} );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { goNext } = useDispatch( 'quillForms/renderer-core' );\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ welcomeScreens?.length > 0 &&\r\n\t\t\t\twelcomeScreens.map( ( screen ) => {\r\n\t\t\t\t\tconst blockType = blockTypes[ 'welcome-screen' ];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t//@ts-expect-error\r\n\t\t\t\t\t\t<blockType.display\r\n\t\t\t\t\t\t\tnext={ goNext }\r\n\t\t\t\t\t\t\tisActive={ currentBlockId === screen.id }\r\n\t\t\t\t\t\t\tkey={ screen.id }\r\n\t\t\t\t\t\t\tid={ screen.id }\r\n\t\t\t\t\t\t\tattributes={ screen.attributes }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default WelcomeScreensWrapper;\r\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,WAAW,QAAQ,iBAAiB;AACxD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,QAAQ,QAAQ,kBAAkB;;AAE3C;AACA;AACA;AACA,SAASC,aAAa,EAAEC,cAAc,QAAQ,aAAa;AAC3D,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM;IAAEC;EAAO,CAAC,GAAGF,cAAc,CAAC,CAAC;EACnC,MAAMG,UAAU,GAAGJ,aAAa,CAAC,CAAC;EAElC,MAAM;IAAEK,cAAc;IAAEC;EAAe,CAAC,GAAGV,SAAS,CAAIW,MAAM,IAAM;IACnE,OAAO;MACNF,cAAc,EAAEE,MAAM,CACrB,0BACD,CAAC,CAACC,iBAAiB,CAAC,CAAC;MACrBF,cAAc,EAAEC,MAAM,CACrB,0BACD,CAAC,CAACE,iBAAiB,CAAC;IACrB,CAAC;EACF,CAAE,CAAC;EAEHX,SAAS,CAAE,MAAM;IAChB;IACA,OAAO,MAAM;MACZC,QAAQ,CAAE,6CAA6C,EAAE;QACxDI,MAAM;QACNO,EAAE,EAAEJ;MACL,CAAE,CAAC;IACJ,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAM;IAAEK;EAAO,CAAC,GAAGd,WAAW,CAAE,0BAA2B,CAAC;EAC5D,OACCe,aAAA,CAAAC,QAAA,QACGR,cAAc,EAAES,MAAM,GAAG,CAAC,IAC3BT,cAAc,CAACU,GAAG,CAAIC,MAAM,IAAM;IACjC,MAAMC,SAAS,GAAGb,UAAU,CAAE,gBAAgB,CAAE;IAChD;MACC;MACAQ,aAAA,CAACK,SAAS,CAACC,OAAO;QACjBC,IAAI,EAAGR,MAAQ;QACfS,QAAQ,EAAGd,cAAc,KAAKU,MAAM,CAACN,EAAI;QACzCW,GAAG,EAAGL,MAAM,CAACN,EAAI;QACjBA,EAAE,EAAGM,MAAM,CAACN,EAAI;QAChBY,UAAU,EAAGN,MAAM,CAACM;MAAY,CAChC;IAAC;EAEJ,CAAE,CACF,CAAC;AAEL,CAAC;AAED,eAAepB,qBAAqB","ignoreList":[]}