{"version":3,"names":["_data","require","_useBlocks","_interopRequireDefault","_useFlattenedBlocks","useEditableFields","flatten","blockTypes","useSelect","select","getBlockTypes","formBlocks","useBlocks","flattenedBlocks","useFlattenedBlocks","Object","values","editableFields","filter","block","blockType","name","supports","editable","_default","exports","default"],"sources":["@quillforms/renderer-core/src/hooks/use-editable-fields.ts"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport useBlocks from './use-blocks';\r\nimport useFlattenedBlocks from './use-flattened-blocks';\r\n\r\nconst useEditableFields = ( flatten = false ) => {\r\n\tconst { blockTypes } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\tblockTypes: select( 'quillForms/blocks' ).getBlockTypes(),\r\n\t\t};\r\n\t} );\r\n\tlet formBlocks = useBlocks();\r\n\tconst flattenedBlocks = useFlattenedBlocks( formBlocks );\r\n\tif ( flatten ) {\r\n\t\tformBlocks = Object.values( flattenedBlocks );\r\n\t}\r\n\r\n\tconst editableFields = formBlocks.filter( ( block ) => {\r\n\t\tconst blockType = blockTypes[ block.name ];\r\n\t\treturn blockType?.supports?.editable === true;\r\n\t} );\r\n\r\n\treturn editableFields;\r\n};\r\n\r\nexport default useEditableFields;\r\n"],"mappings":";;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AAKA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,mBAAA,GAAAD,sBAAA,CAAAF,OAAA;AATA;AACA;AACA;;AAGA;AACA;AACA;;AAIA,MAAMI,iBAAiB,GAAGA,CAAEC,OAAO,GAAG,KAAK,KAAM;EAChD,MAAM;IAAEC;EAAW,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAC/C,OAAO;MACNF,UAAU,EAAEE,MAAM,CAAE,mBAAoB,CAAC,CAACC,aAAa,CAAC;IACzD,CAAC;EACF,CAAE,CAAC;EACH,IAAIC,UAAU,GAAG,IAAAC,kBAAS,EAAC,CAAC;EAC5B,MAAMC,eAAe,GAAG,IAAAC,2BAAkB,EAAEH,UAAW,CAAC;EACxD,IAAKL,OAAO,EAAG;IACdK,UAAU,GAAGI,MAAM,CAACC,MAAM,CAAEH,eAAgB,CAAC;EAC9C;EAEA,MAAMI,cAAc,GAAGN,UAAU,CAACO,MAAM,CAAIC,KAAK,IAAM;IACtD,MAAMC,SAAS,GAAGb,UAAU,CAAEY,KAAK,CAACE,IAAI,CAAE;IAC1C,OAAOD,SAAS,EAAEE,QAAQ,EAAEC,QAAQ,KAAK,IAAI;EAC9C,CAAE,CAAC;EAEH,OAAON,cAAc;AACtB,CAAC;AAAC,IAAAO,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEarB,iBAAiB","ignoreList":[]}