"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _data = require("@wordpress/data");
var _useBlocks = _interopRequireDefault(require("./use-blocks"));
var _useFlattenedBlocks = _interopRequireDefault(require("./use-flattened-blocks"));
/**
 * WordPress Dependencies
 */

/**
 * Internal Dependencies
 */

const useEditableFields = (flatten = false) => {
  const {
    blockTypes
  } = (0, _data.useSelect)(select => {
    return {
      blockTypes: select('quillForms/blocks').getBlockTypes()
    };
  });
  let formBlocks = (0, _useBlocks.default)();
  const flattenedBlocks = (0, _useFlattenedBlocks.default)(formBlocks);
  if (flatten) {
    formBlocks = Object.values(flattenedBlocks);
  }
  const editableFields = formBlocks.filter(block => {
    const blockType = blockTypes[block.name];
    return blockType?.supports?.editable === true;
  });
  return editableFields;
};
var _default = exports.default = useEditableFields;
//# sourceMappingURL=use-editable-fields.js.map