{"version":3,"names":["_data","require","_fieldAction","_interopRequireDefault","_errorMessage","_fieldRender","_submitBtn","EditableBlockFooter","id","shakingErr","isValid","validationErr","useSelect","select","isValidField","getFieldValidationErr","next","isErrMsgVisible","showErrMsg","isLastField","__experimentalUseFieldRenderContext","_react","createElement","Fragment","length","default","message","clickHandler","_default","exports"],"sources":["@quillforms/renderer-core/src/components/field-footer/editable.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport FieldAction from '../field-action';\r\nimport ErrMsg from '../error-message';\r\nimport { __experimentalUseFieldRenderContext } from '../field-render';\r\nimport SubmitBtn from '../submit-btn';\r\n\r\ninterface Props {\r\n\tid: string | undefined;\r\n\tshakingErr: string | null;\r\n}\r\nconst EditableBlockFooter: React.FC<Props> = ({ id, shakingErr }) => {\r\n\tif (!id) return null;\r\n\tconst { isValid, validationErr } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\tisValid: select('quillForms/renderer-core').isValidField(id),\r\n\t\t\tvalidationErr: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getFieldValidationErr(id),\r\n\t\t};\r\n\t});\r\n\tconst {\r\n\t\tnext,\r\n\t\tisErrMsgVisible,\r\n\t\tshowErrMsg,\r\n\t\tisLastField,\r\n\t} = __experimentalUseFieldRenderContext();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{shakingErr ||\r\n\t\t\t\t(!isValid && validationErr?.length > 0 && isErrMsgVisible) ? (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<ErrMsg message={shakingErr ? shakingErr : validationErr} />\r\n\t\t\t) : isLastField ? (\r\n\t\t\t\t<SubmitBtn />\r\n\t\t\t) : (\r\n\t\t\t\t// @ts-expect-error\r\n\t\t\t\t<FieldAction\r\n\t\t\t\t\tclickHandler={() => {\r\n\t\t\t\t\t\tif (validationErr && !isValid) {\r\n\t\t\t\t\t\t\tshowErrMsg(true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\nexport default EditableBlockFooter;\r\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AAKA,IAAAC,YAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,aAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAH,sBAAA,CAAAF,OAAA;AAXA;AACA;AACA;;AAGA;AACA;AACA;;AAUA,MAAMM,mBAAoC,GAAGA,CAAC;EAAEC,EAAE;EAAEC;AAAW,CAAC,KAAK;EACpE,IAAI,CAACD,EAAE,EAAE,OAAO,IAAI;EACpB,MAAM;IAAEE,OAAO;IAAEC;EAAc,CAAC,GAAG,IAAAC,eAAS,EAAEC,MAAM,IAAK;IACxD,OAAO;MACNH,OAAO,EAAEG,MAAM,CAAC,0BAA0B,CAAC,CAACC,YAAY,CAACN,EAAE,CAAC;MAC5DG,aAAa,EAAEE,MAAM,CACpB,0BACD,CAAC,CAACE,qBAAqB,CAACP,EAAE;IAC3B,CAAC;EACF,CAAC,CAAC;EACF,MAAM;IACLQ,IAAI;IACJC,eAAe;IACfC,UAAU;IACVC;EACD,CAAC,GAAG,IAAAC,gDAAmC,EAAC,CAAC;EACzC,OACC,IAAAC,MAAA,CAAAC,aAAA,EAAAD,MAAA,CAAAE,QAAA,QACEd,UAAU,IACT,CAACC,OAAO,IAAIC,aAAa,EAAEa,MAAM,GAAG,CAAC,IAAIP,eAAgB;EAC1D;EACA,IAAAI,MAAA,CAAAC,aAAA,EAAClB,aAAA,CAAAqB,OAAM;IAACC,OAAO,EAAEjB,UAAU,GAAGA,UAAU,GAAGE;EAAc,CAAE,CAAC,GACzDQ,WAAW,GACd,IAAAE,MAAA,CAAAC,aAAA,EAAChB,UAAA,CAAAmB,OAAS,MAAE,CAAC;EAEb;EACA,IAAAJ,MAAA,CAAAC,aAAA,EAACpB,YAAA,CAAAuB,OAAW;IACXE,YAAY,EAAEA,CAAA,KAAM;MACnB,IAAIhB,aAAa,IAAI,CAACD,OAAO,EAAE;QAC9BQ,UAAU,CAAC,IAAI,CAAC;MACjB,CAAC,MAAM;QACNF,IAAI,CAAC,CAAC;MACP;IACD;EAAE,CACF,CAED,CAAC;AAEL,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAJ,OAAA,GACalB,mBAAmB","ignoreList":[]}