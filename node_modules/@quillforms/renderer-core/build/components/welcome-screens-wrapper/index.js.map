{"version":3,"names":["_data","require","_element","_hooks","_hooks2","WelcomeScreensWrapper","formId","useFormContext","blockTypes","useBlockTypes","welcomeScreens","currentBlockId","useSelect","select","getWelcomeScreens","getCurrentBlockId","useEffect","doAction","id","goNext","useDispatch","_react","createElement","Fragment","length","map","screen","blockType","display","next","isActive","key","attributes","_default","exports","default"],"sources":["@quillforms/renderer-core/src/components/welcome-screens-wrapper/index.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\nimport { useEffect } from '@wordpress/element';\r\nimport { doAction } from '@wordpress/hooks';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { useBlockTypes, useFormContext } from '../../hooks';\r\nconst WelcomeScreensWrapper = () => {\r\n\tconst { formId } = useFormContext();\r\n\tconst blockTypes = useBlockTypes();\r\n\r\n\tconst { welcomeScreens, currentBlockId } = useSelect( ( select ) => {\r\n\t\treturn {\r\n\t\t\twelcomeScreens: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getWelcomeScreens(),\r\n\t\t\tcurrentBlockId: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getCurrentBlockId(),\r\n\t\t};\r\n\t} );\r\n\r\n\tuseEffect( () => {\r\n\t\t// fire event on unmount.\r\n\t\treturn () => {\r\n\t\t\tdoAction( 'QuillForms.RendererCore.WelcomeScreenPassed', {\r\n\t\t\t\tformId,\r\n\t\t\t\tid: currentBlockId,\r\n\t\t\t} );\r\n\t\t};\r\n\t}, [] );\r\n\r\n\tconst { goNext } = useDispatch( 'quillForms/renderer-core' );\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{ welcomeScreens?.length > 0 &&\r\n\t\t\t\twelcomeScreens.map( ( screen ) => {\r\n\t\t\t\t\tconst blockType = blockTypes[ 'welcome-screen' ];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t//@ts-expect-error\r\n\t\t\t\t\t\t<blockType.display\r\n\t\t\t\t\t\t\tnext={ goNext }\r\n\t\t\t\t\t\t\tisActive={ currentBlockId === screen.id }\r\n\t\t\t\t\t\t\tkey={ screen.id }\r\n\t\t\t\t\t\t\tid={ screen.id }\r\n\t\t\t\t\t\t\tattributes={ screen.attributes }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t} ) }\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default WelcomeScreensWrapper;\r\n"],"mappings":";;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AAKA,IAAAG,OAAA,GAAAH,OAAA;AAVA;AACA;AACA;;AAKA;AACA;AACA;;AAEA,MAAMI,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAM;IAAEC;EAAO,CAAC,GAAG,IAAAC,sBAAc,EAAC,CAAC;EACnC,MAAMC,UAAU,GAAG,IAAAC,qBAAa,EAAC,CAAC;EAElC,MAAM;IAAEC,cAAc;IAAEC;EAAe,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IACnE,OAAO;MACNH,cAAc,EAAEG,MAAM,CACrB,0BACD,CAAC,CAACC,iBAAiB,CAAC,CAAC;MACrBH,cAAc,EAAEE,MAAM,CACrB,0BACD,CAAC,CAACE,iBAAiB,CAAC;IACrB,CAAC;EACF,CAAE,CAAC;EAEH,IAAAC,kBAAS,EAAE,MAAM;IAChB;IACA,OAAO,MAAM;MACZ,IAAAC,eAAQ,EAAE,6CAA6C,EAAE;QACxDX,MAAM;QACNY,EAAE,EAAEP;MACL,CAAE,CAAC;IACJ,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EAEP,MAAM;IAAEQ;EAAO,CAAC,GAAG,IAAAC,iBAAW,EAAE,0BAA2B,CAAC;EAC5D,OACC,IAAAC,MAAA,CAAAC,aAAA,EAAAD,MAAA,CAAAE,QAAA,QACGb,cAAc,EAAEc,MAAM,GAAG,CAAC,IAC3Bd,cAAc,CAACe,GAAG,CAAIC,MAAM,IAAM;IACjC,MAAMC,SAAS,GAAGnB,UAAU,CAAE,gBAAgB,CAAE;IAChD;MACC;MACA,IAAAa,MAAA,CAAAC,aAAA,EAACK,SAAS,CAACC,OAAO;QACjBC,IAAI,EAAGV,MAAQ;QACfW,QAAQ,EAAGnB,cAAc,KAAKe,MAAM,CAACR,EAAI;QACzCa,GAAG,EAAGL,MAAM,CAACR,EAAI;QACjBA,EAAE,EAAGQ,MAAM,CAACR,EAAI;QAChBc,UAAU,EAAGN,MAAM,CAACM;MAAY,CAChC;IAAC;EAEJ,CAAE,CACF,CAAC;AAEL,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEa9B,qBAAqB","ignoreList":[]}