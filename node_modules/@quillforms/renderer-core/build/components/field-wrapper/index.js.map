{"version":3,"names":["_useBlockTheme","_interopRequireDefault","require","_element","_data","_classnames","_emotion","_context","_fieldContent","_lodash","_useFormSettings","_fieldAttachment","_hooks","scrollTimer","tabTimer","FieldWrapper","_attributes$layout","_attributes$classname","id","isActive","shouldBeRendered","showErrMsg","next","attributes","blockName","__experimentalUseFieldRenderContext","deviceWidth","useFormContext","correctIncorrectQuiz","useCorrectIncorrectQuiz","settings","useFormSettings","blockType","useSelect","select","getBlockType","swiper","isValid","isFocused","getSwiperState","supports","innerBlocks","hasValidFields","editable","isValidField","setSwiper","goPrev","setIsCurrentBlockSafeToSwipe","setIsFieldAnswerLocked","setCorrectIncorrectDisplay","goNext","setFooterDisplay","useDispatch","correctIncorrectDisplay","getCorrectIncorrectDisplay","useEffect","currentBlockId","setTimeout","size","questions","explanation","walkPath","isAnimating","isReviewing","setCanSwipeNext","val","canSwipeNext","setCanSwipePrev","canSwipePrev","fieldIndex","findIndex","field","currentFieldIndex","$field","position","ref","useRef","current","scrollTo","clearTimeout","focusableElementsString","getFocusables","el","filter","Array","prototype","slice","call","document","querySelector","querySelectorAll","item","getAttribute","offsetParent","window","getComputedStyle","visibility","processTab","isShiftPressed","activeElement","focusableElements","activeElementIndex","length","contains","focus","body","onTab","e","preventDefault","scrollHandler","disableWheelSwiping","animationDirection","scrollTop","Math","abs","scrollHeight","clientHeight","isTouchScreen","navigator","maxTouchPoints","msMaxTouchPoints","layout","displayLayout","theme","useBlockTheme","themeId","backgroundImageCSS","backgroundImage","parseFloat","backgroundImageFocalPoint","x","y","specialProps","_react","createElement","className","classnames","active","typographyPreset","css","font","fontSize","lg","fontLineHeight","sm","textInputAnswers","backgroundColor","Fragment","attachment","tabIndex","onKeyDown","shiftKey","key","stopPropagation","onScroll","default","attachmentFocalPoint","_default","exports"],"sources":["@quillforms/renderer-core/src/components/field-wrapper/index.tsx"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/**\r\n * QuillForms Dependencies\r\n */\r\nimport useBlockTheme from '../../hooks/use-block-theme';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useRef, useEffect, useState } from '@wordpress/element';\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport { css } from 'emotion';\r\nimport tinyColor from 'tinycolor2';\r\n\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { __experimentalUseFieldRenderContext } from '../field-render/context';\r\nimport FieldContent from '../field-content';\r\nimport { filter, findIndex } from 'lodash';\r\nimport useFormSettings from '../../hooks/use-form-settings';\r\nimport BlockAttachment from '../field-attachment';\r\nimport { useCorrectIncorrectQuiz, useFormContext } from '../../hooks';\r\n\r\nimport { size } from 'lodash';\r\n\r\nlet scrollTimer: ReturnType<typeof setTimeout>;\r\nlet tabTimer: ReturnType<typeof setTimeout>;\r\n\r\nconst FieldWrapper: React.FC = () => {\r\n\tconst {\r\n\t\tid,\r\n\t\tisActive,\r\n\t\tshouldBeRendered,\r\n\t\tshowErrMsg,\r\n\t\tnext,\r\n\t\tattributes,\r\n\t\tblockName,\r\n\t} = __experimentalUseFieldRenderContext();\r\n\tconst { deviceWidth } = useFormContext();\r\n\tconst correctIncorrectQuiz = useCorrectIncorrectQuiz();\r\n\tconst settings = useFormSettings();\r\n\tif (!id || !blockName) return null;\r\n\tconst { blockType } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\tblockType: select('quillForms/blocks').getBlockType(blockName),\r\n\t\t};\r\n\t});\r\n\r\n\tif (!blockType) return null;\r\n\tconst { swiper, isValid, isFocused } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\tswiper: select('quillForms/renderer-core').getSwiperState(),\r\n\t\t\tisValid: blockType?.supports?.innerBlocks\r\n\t\t\t\t? select('quillForms/renderer-core').hasValidFields(id)\r\n\t\t\t\t: blockType?.supports?.editable\r\n\t\t\t\t\t? select('quillForms/renderer-core').isValidField(id)\r\n\t\t\t\t\t: true,\r\n\t\t\tisFocused: select('quillForms/renderer-core').isFocused(),\r\n\t\t};\r\n\t});\r\n\r\n\tconst {\r\n\t\tsetSwiper,\r\n\t\tgoPrev,\r\n\t\tsetIsCurrentBlockSafeToSwipe,\r\n\t\tsetIsFieldAnswerLocked,\r\n\t\tsetCorrectIncorrectDisplay,\r\n\t\tgoNext,\r\n\t\tsetFooterDisplay\r\n\t} = useDispatch(\r\n\t\t'quillForms/renderer-core'\r\n\t);\r\n\r\n\tconst {\r\n\t\tcorrectIncorrectDisplay\r\n\t} = useSelect(select => {\r\n\t\treturn {\r\n\t\t\tcorrectIncorrectDisplay: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getCorrectIncorrectDisplay(),\r\n\r\n\t\t}\r\n\t})\r\n\tuseEffect(() => {\r\n\t\tif (correctIncorrectDisplay) {\r\n\t\t\tif (currentBlockId)\r\n\t\t\t\tsetIsFieldAnswerLocked(currentBlockId, true);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetCorrectIncorrectDisplay(false);\r\n\t\t\t}, 1000);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (size(correctIncorrectQuiz?.questions?.[currentBlockId]?.explanation) <= 0) {\r\n\t\t\t\t\tgoNext();\r\n\t\t\t\t}\r\n\t\t\t}, 1450)\r\n\t\t}\r\n\t}, [correctIncorrectDisplay])\r\n\r\n\r\n\tconst { walkPath, currentBlockId, isAnimating, isReviewing } = swiper;\r\n\tconst setCanSwipeNext = (val: boolean) => {\r\n\t\t// if ( walkPath[ walkPath.length - 1 ].id === id ) val = false;\r\n\t\tsetSwiper({\r\n\t\t\tcanSwipeNext: val,\r\n\t\t});\r\n\t};\r\n\tconst setCanSwipePrev = (val: boolean) => {\r\n\t\tsetSwiper({\r\n\t\t\tcanSwipePrev: val,\r\n\t\t});\r\n\t};\r\n\r\n\tconst fieldIndex = walkPath.findIndex((field) => field.id === id);\r\n\r\n\tconst currentFieldIndex = walkPath.findIndex(\r\n\t\t($field) => $field.id === currentBlockId\r\n\t);\r\n\r\n\tconst position = isActive\r\n\t\t? null\r\n\t\t: currentFieldIndex > fieldIndex\r\n\t\t\t? 'is-up'\r\n\t\t\t: 'is-down';\r\n\r\n\tconst ref = useRef<HTMLDivElement | null>(null);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isActive && !isReviewing) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetIsCurrentBlockSafeToSwipe(true);\r\n\t\t\t}, 40);\r\n\t\t}\r\n\t}, [isActive, isReviewing]);\r\n\tuseEffect(() => {\r\n\t\tif (isActive) {\r\n\t\t\tif (ref?.current) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (ref?.current) {\r\n\t\t\t\t\t\tref.current.scrollTo(0, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetCanSwipePrev(true);\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tclearTimeout(tabTimer);\r\n\t\t\tclearTimeout(scrollTimer);\r\n\t\t\tsetCanSwipeNext(true);\r\n\t\t\tsetCanSwipePrev(true);\r\n\t\t}\r\n\t}, [isActive]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAnimating) clearTimeout(tabTimer);\r\n\t}, [isAnimating]);\r\n\r\n\r\n\r\n\tconst focusableElementsString =\r\n\t\t'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\r\n\r\n\t/**\r\n\t * Gets all the focusable elements inside the passed element.\r\n\t *\r\n\t * @param  el\r\n\t */\r\n\tfunction getFocusables(el) {\r\n\t\treturn filter(\r\n\t\t\tArray.prototype.slice.call(\r\n\t\t\t\tdocument\r\n\t\t\t\t\t.querySelector(el)\r\n\t\t\t\t\t.querySelectorAll(focusableElementsString)\r\n\t\t\t),\r\n\t\t\t(item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\titem.getAttribute('tabindex') !== '-1' &&\r\n\t\t\t\t\t//are also not hidden elements (or with hidden parents)\r\n\t\t\t\t\titem.offsetParent !== null &&\r\n\t\t\t\t\twindow.getComputedStyle(item).visibility !== 'hidden'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tfunction processTab(isShiftPressed) {\r\n\t\tif (isAnimating) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst activeElement = document.activeElement;\r\n\t\tconst focusableElements = getFocusables(`#block-${id}`);\r\n\t\t//outside the block? Let's not hijack the tab!\r\n\t\tif (!isFocused) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst activeElementIndex = findIndex(\r\n\t\t\tfocusableElements,\r\n\t\t\t(el) => el === activeElement\r\n\t\t);\r\n\r\n\t\t// Happens when the active element is in the next block or previous block\r\n\t\t// This case occurs when pressing tab multiple times at the same time.\r\n\t\tif (activeElementIndex === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!isShiftPressed) {\r\n\t\t\tif (\r\n\t\t\t\tactiveElement ==\r\n\t\t\t\tfocusableElements[focusableElements.length - 1]\r\n\t\t\t) {\r\n\t\t\t\tnext();\r\n\t\t\t} else if (\r\n\t\t\t\tfocusableElements[activeElementIndex + 1].offsetParent !==\r\n\t\t\t\tnull &&\r\n\t\t\t\t// If document element is still in dom\r\n\t\t\t\t// One example for this case is  the next button in each block if the block isn't valid and the error message\r\n\t\t\t\t// appear instead of the button. The button is focusable but it is no longer in dom.\r\n\t\t\t\tdocument.contains(focusableElements[activeElementIndex + 1])\r\n\t\t\t) {\r\n\t\t\t\tfocusableElements[activeElementIndex + 1].focus();\r\n\t\t\t} else {\r\n\t\t\t\t//when reached the last focusable element of the block, go next\r\n\t\t\t\tnext();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//when reached the first  focusable element of the block, go prev if shift is pressed\r\n\t\t\tif (activeElementIndex === 0) {\r\n\t\t\t\tgoPrev();\r\n\t\t\t} else if (activeElementIndex === -1) {\r\n\t\t\t\tdocument.body.focus();\r\n\t\t\t} else {\r\n\t\t\t\tfocusableElements[activeElementIndex - 1].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Makes sure the tab key will only focus elements within the current block  preventing this way from breaking the page.\r\n\t * Otherwise, go next or prev.\r\n\t *\r\n\t * @param  e\r\n\t * @param  isShiftPressed\r\n\t */\r\n\tfunction onTab(e, isShiftPressed) {\r\n\t\tclearTimeout(tabTimer);\r\n\t\tif (isAnimating) return;\r\n\t\te.preventDefault();\r\n\t\ttabTimer = setTimeout(() => {\r\n\t\t\tprocessTab(isShiftPressed);\r\n\t\t}, 150);\r\n\t}\r\n\r\n\tconst scrollHandler = (e) => {\r\n\t\tif (\r\n\t\t\tsettings?.disableWheelSwiping ||\r\n\t\t\tsettings?.animationDirection === 'horizontal'\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\te.preventDefault();\r\n\t\tif (!ref.current) return;\r\n\t\tif (ref.current.scrollTop <= 0) {\r\n\t\t\tscrollTimer = setTimeout(() => {\r\n\t\t\t\tsetCanSwipePrev(true);\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\tsetCanSwipePrev(false);\r\n\t\t}\r\n\t\t// Adding tolerance to detect scroll end.\r\n\t\t// It was a problem with mobile devices.\r\n\t\tif (\r\n\t\t\tMath.abs(\r\n\t\t\t\tref.current.scrollHeight -\r\n\t\t\t\tref.current.clientHeight -\r\n\t\t\t\tref.current.scrollTop\r\n\t\t\t) <= 3.0\r\n\t\t) {\r\n\t\t\tscrollTimer = setTimeout(() => {\r\n\t\t\t\tsetCanSwipeNext(true);\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\tsetCanSwipeNext(false);\r\n\t\t}\r\n\t};\r\n\tconst isTouchScreen =\r\n\t\t(typeof window !== 'undefined' && 'ontouchstart' in window) ||\r\n\t\t(typeof navigator !== 'undefined' && navigator.maxTouchPoints > 0) ||\r\n\t\t// @ts-expect-error\r\n\t\t(typeof navigator !== 'undefined' && navigator.msMaxTouchPoints > 0);\r\n\r\n\tconst layout =\r\n\t\tblockType?.displayLayout && blockType?.displayLayout !== 'default'\r\n\t\t\t? blockType.displayLayout\r\n\t\t\t: attributes?.layout ?? 'stack';\r\n\tconst theme = useBlockTheme(attributes?.themeId);\r\n\tlet backgroundImageCSS = '';\r\n\tif (theme.backgroundImage && theme.backgroundImage) {\r\n\t\tbackgroundImageCSS = `background-image: url('${theme.backgroundImage\r\n\t\t\t}');\r\n\t\t\tbackground-size: cover;\r\n\t\t\tbackground-position: ${\r\n\t\t\t// @ts-expect-error\r\n\t\t\tparseFloat(theme.backgroundImageFocalPoint?.x) * 100\r\n\t\t\t}%\r\n\t\t\t${\r\n\t\t\t// @ts-expect-error\r\n\t\t\tparseFloat(theme.backgroundImageFocalPoint?.y) * 100\r\n\t\t\t}%;\r\n\t\t`;\r\n\t}\r\n\r\n\tlet specialProps = {};\r\n\tif (isActive) {\r\n\t\tspecialProps = {\r\n\t\t\t'data-iframe-height': true,\r\n\t\t};\r\n\t}\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'renderer-components-field-wrapper',\r\n\t\t\t\t{\r\n\t\t\t\t\tactive: isActive,\r\n\t\t\t\t\t'is-animating': isAnimating,\r\n\t\t\t\t\t'is-horizontal-animation':\r\n\t\t\t\t\t\tsettings?.animationDirection === 'horizontal',\r\n\t\t\t\t},\r\n\t\t\t\t`${attributes?.classnames ?? ''}`,\r\n\t\t\t\t`${theme.typographyPreset}-typography-preset`,\r\n\t\t\t\tposition ? position : '',\r\n\t\t\t\tcss`\r\n\t\t\t\t\tfont-family: ${theme.font};\r\n\t\t\t\t\t@media ( min-width: 768px ) {\r\n\t\t\t\t\t\tfont-size: ${theme.fontSize.lg};\r\n\t\t\t\t\t\tline-height: ${theme.fontLineHeight.lg};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t@media ( max-width: 767px ) {\r\n\t\t\t\t\t\tfont-size: ${theme.fontSize.sm};\r\n\t\t\t\t\t\tline-height: ${theme.fontLineHeight.sm};\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttextarea,\r\n\t\t\t\t\tinput {\r\n\t\t\t\t\t\tfont-family: ${theme.font};\r\n\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\tbackground-color: transparent;\r\n\r\n\t\t\t\t\t\t@media ( min-width: 768px ) {\r\n\t\t\t\t\t\t\tfont-size: ${theme.textInputAnswers.lg};\r\n\t\t\t\t\t\t\tline-height: ${theme.textInputAnswers.lg};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t@media ( max-width: 767px ) {\r\n\t\t\t\t\t\t\tfont-size: ${theme.textInputAnswers.sm};\r\n\t\t\t\t\t\t\tline-height: ${theme.textInputAnswers.sm};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t${attributes?.themeId && backgroundImageCSS}\r\n\t\t\t\t`\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName={css`\r\n\t\t\t\t\t${attributes?.themeId &&\r\n\t\t\t\t\t`background: ${theme.backgroundColor}`};\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t` }\r\n\t\t\t>\r\n\t\t\t\t{shouldBeRendered && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<section\r\n\t\t\t\t\t\t\tid={'block-' + id}\r\n\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t`blocktype-${blockName}-block`,\r\n\t\t\t\t\t\t\t\t`renderer-core-block-${layout}-layout`,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t'with-attachment':\r\n\t\t\t\t\t\t\t\t\t\tblockType?.supports.attachment,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"renderer-components-field-wrapper__content-wrapper renderer-components-block__content-wrapper\"\r\n\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\t\t\tonKeyDown={(e: KeyboardEvent): void => {\r\n\t\t\t\t\t\t\t\t\tconst isShiftPressed = e.shiftKey;\r\n\t\t\t\t\t\t\t\t\tif (isAnimating) {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (e.key === 'Enter') {\r\n\t\t\t\t\t\t\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (isValid) {\r\n\t\t\t\t\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tshowErrMsg(true);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t//tab?\r\n\t\t\t\t\t\t\t\t\t\tif (e.key === 'Tab') {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tonTab(e, isShiftPressed);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\t\t{...specialProps}\r\n\t\t\t\t\t\t\t\t\tclassName=\"renderer-core-block-scroller\"\r\n\t\t\t\t\t\t\t\t\tonScroll={(e) => scrollHandler(e)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FieldContent />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{((layout !== 'stack' &&\r\n\t\t\t\t\t\t\t\tdeviceWidth !== 'mobile') ||\r\n\t\t\t\t\t\t\t\t(deviceWidth === 'mobile' &&\r\n\t\t\t\t\t\t\t\t\t(layout === 'split-left' ||\r\n\t\t\t\t\t\t\t\t\t\tlayout === 'split-right'))) &&\r\n\t\t\t\t\t\t\t\tblockType?.supports?.attachment && (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t'renderer-core-block-attachment-wrapper',\r\n\t\t\t\t\t\t\t\t\t\t\tcss`\r\n\t\t\t\t\t\t\t\t\t\t\timg {\r\n\t\t\t\t\t\t\t\t\t\t\t\tobject-position: ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\t\t\t\t\t\t\tattributes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.attachmentFocalPoint\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.x * 100\r\n\t\t\t\t\t\t\t\t\t\t\t\t}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${\r\n\t\t\t\t\t\t\t\t\t\t\t\t// @ts-expect-error\r\n\t\t\t\t\t\t\t\t\t\t\t\tattributes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.attachmentFocalPoint\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.y * 100\r\n\t\t\t\t\t\t\t\t\t\t\t\t}%;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<BlockAttachment />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default FieldWrapper;\r\n"],"mappings":"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","ignoreList":[]}