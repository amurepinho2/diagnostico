{"version":3,"names":["_useCorrectAnswersCount","_interopRequireDefault","require","_useIncorrectAnswersCount","_data","_htmlParser","_hooks","_emotion","_fieldRender","QuizMergeTag","modifier","correctIncorrectQuiz","useCorrectIncorrectQuiz","attributes","__experimentalUseFieldRenderContext","theme","useBlockTheme","themeId","messages","useMessages","fieldsSupportQuiz","answers","useSelect","select","getFieldsBySupportCriteria","getAnswers","correctAnswersCount","useCorrectAnswersCount","inCorrectAnswersCount","useIncorrectAnswersCount","_react","createElement","Fragment","map","field","index","className","css","fontSize","lg","sm","dangerouslySetInnerHTML","__html","label","replace","_match","p1","p2","default","value","id","isCorrect","_default","exports"],"sources":["@quillforms/renderer-core/src/components/merge-tag/quiz.tsx"],"sourcesContent":["/**\r\n * Internal Dependencies\r\n */\r\nimport { forEach } from 'lodash';\r\nimport useCorrectAnswersCount from '../../hooks/use-correct-answers-count';\r\nimport useIncorrectAnswersCount from '../../hooks/use-incorrect-answers-count';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from \"@wordpress/data\";\r\nimport HtmlParser from '../html-parser';\r\nimport { useBlockTheme, useCorrectIncorrectQuiz, useMessages, useTheme } from '../../hooks';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport { css } from 'emotion';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { __experimentalUseFieldRenderContext } from '../field-render';\r\n\r\ninterface Props {\r\n\tmodifier: string;\r\n}\r\nconst QuizMergeTag: React.FC<Props> = ({ modifier }) => {\r\n\tconst correctIncorrectQuiz = useCorrectIncorrectQuiz();\r\n\tconst { attributes } = __experimentalUseFieldRenderContext();\r\n\tconst theme = useBlockTheme(attributes?.themeId)\r\n\tconst messages = useMessages();\r\n\tconst { fieldsSupportQuiz, answers } = useSelect((select) => {\r\n\t\tconst { getFieldsBySupportCriteria } = select('quillForms/renderer-core');\r\n\t\treturn {\r\n\t\t\tfieldsSupportQuiz: getFieldsBySupportCriteria(['correctAnswers']),\r\n\t\t\tanswers: select('quillForms/renderer-core')?.getAnswers(),\r\n\t\t};\r\n\t});\r\n\tconst correctAnswersCount = useCorrectAnswersCount();\r\n\tconst inCorrectAnswersCount = useIncorrectAnswersCount();\r\n\tif (modifier === 'correct_answers_count') {\r\n\t\treturn <>{correctAnswersCount}</>;\r\n\t}\r\n\r\n\telse if (modifier === 'incorrect_answers_count') {\r\n\t\treturn <>{inCorrectAnswersCount}</>;\r\n\t}\r\n\r\n\telse if (modifier === 'summary') {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{fieldsSupportQuiz.map((field, index) => {\r\n\t\t\t\t\t// first div add dangerouslySetInnerHTML\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={css`\r\n\t\t\t\t\t\t\tfont-size: ${theme.fontSize.lg};\r\n\t\t\t\t\t\t\t@media screen and (max-width: 768px) {\r\n\t\t\t\t\t\t\t\tfont-size: ${theme.fontSize.sm}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmargin-bottom: 14px;\r\n\t\t\t\t\t\t`}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: index + 1 + \"- \" + field.attributes?.label?.replace(\r\n\t\t\t\t\t\t\t\t\t\t/{{([a-zA-Z0-9-_]+):([a-zA-Z0-9-_]+)}}/g,\r\n\t\t\t\t\t\t\t\t\t\t(_match, p1, p2) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn `______`;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{messages['label.yourAnswer']}: <HtmlParser value={`{{field:${field.id}}}`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={css`\r\n\t\t\t\t\t\t\t\tmargin-top:8px;\r\n\t\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\t\tbackground: ${answers[field.id]?.isCorrect ? '#5bc68a' : '#d93148'};\r\n\t\t\t\t\t\t\t\tpadding: 5px 8px;\r\n\t\t\t\t\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\t\t\t\t`}>\r\n\t\t\t\t\t\t\t\t{answers[field.id]?.isCorrect ? messages['label.correct'] : messages['label.incorrect']}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nexport default QuizMergeTag;\r\n"],"mappings":"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","ignoreList":[]}