{"version":3,"names":["_data","require","_lodash","_constants","initialState","walkPath","welcomeScreens","thankyouScreens","currentBlockId","undefined","nextBlockId","lastActiveBlockId","prevBlockId","correctIncorrectDisplay","canSwipeNext","canSwipePrev","isCurrentBlockSafeToSwipe","isAnimating","isThankyouScreenActive","isWelcomeScreenActive","isReviewing","swiper","state","action","type","SET_SWIPER_STATE","newSwiperState","swiperState","validBlocksStructure","forEach","blockCat","newBlockCat","Array","isArray","length","item","id","size","attributes","hasOwnProperty","name","some","block","newWalkPath","newWelcomeScreens","newThanksScreens","checkCorrectIds","prop","allBlocks","correctBooleans","newCurrentBlockId","isFirstField","isLastField","screen","GO_NEXT","nextFieldType","find","currentFieldIndex","findIndex","field","$newCurrentBlockId","newCurrentFieldIndex","$field","GO_PREV","SET_CORRECT_INCORRECT_DISPLAY","val","SET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE","GO_TO_BLOCK","forceUpdateState","isTheBlockWelcomeScreenBlock","isTheBlockThankyouScreenBlock","fieldIndex","groupBlocks","filter","parentId","groupBlock","innerBlocks","childIndex","childBlock","SET_THANKYOU_SCREENS","screens","COMPLETE_FORM","isFocused","SET_IS_FOCUSED","footerDisplay","SET_FOOTER_DISPLAY","submit","isSubmitting","submissionErr","paymentData","SET_IS_REVIEWING","SET_IS_SUBMITTING","SET_SUBMISSION_ERR","SET_PAYMENT_DATA","data","answers","INSERT_EMPTY_FIELD_ANSWER","blockName","value","isValid","isAnswered","isPending","pendingMsg","validationErr","isCorrect","isCorrectIncorrectScreenDisplayed","isLocked","SET_FIELD_ANSWER","RESET_ANSWERS","SET_IS_FIELD_VALID","SET_IS_FIELD_ANSWERED","SET_IS_FIELD_ANSWER_CORRECT","SET_IS_FIELD_ANSWER_LOCKED","SET_IS_FIELD_CORRECT_INCORRECT_SCREEN_DISPLAYED","SET_IS_FIELD_PENDING","SET_FIELD_PENDING_MSG","SET_FIELD_VALIDATION_ERR","RendererCoreReducer","combineReducers","_default","exports","default"],"sources":["@quillforms/renderer-core/src/store/reducer.ts"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/**\r\n * QuillForms Dependencies\r\n */\r\nimport { FormBlock } from '@quillforms/types';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { combineReducers } from '@wordpress/data';\r\nimport { forEach, some, size } from 'lodash';\r\n\r\n/**\r\n * External dependencies\r\n */\r\nimport type { Reducer } from 'redux';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport {\r\n\tGO_NEXT,\r\n\tGO_PREV,\r\n\tCOMPLETE_FORM,\r\n\tSET_SWIPER_STATE,\r\n\tGO_TO_BLOCK,\r\n\tSET_CORRECT_INCORRECT_DISPLAY,\r\n\tSET_SUBMISSION_ERR,\r\n\tSET_FIELD_ANSWER,\r\n\tINSERT_EMPTY_FIELD_ANSWER,\r\n\tSET_IS_FIELD_VALID,\r\n\tSET_IS_FIELD_ANSWERED,\r\n\tSET_IS_FIELD_PENDING,\r\n\tSET_FIELD_PENDING_MSG,\r\n\tSET_IS_FIELD_ANSWER_CORRECT,\r\n\tSET_FIELD_VALIDATION_ERR,\r\n\tRESET_ANSWERS,\r\n\tSET_IS_REVIEWING,\r\n\tSET_IS_SUBMITTING,\r\n\tSET_PAYMENT_DATA,\r\n\tSET_IS_FOCUSED,\r\n\tSET_FOOTER_DISPLAY,\r\n\tSET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE,\r\n\tSET_IS_FIELD_ANSWER_LOCKED,\r\n\tSET_IS_FIELD_CORRECT_INCORRECT_SCREEN_DISPLAYED,\r\n\tSET_THANKYOU_SCREENS,\r\n} from './constants';\r\nimport type {\r\n\tSwiperState,\r\n\tSwiperActionTypes,\r\n\tRendererAnswersActionTypes,\r\n\tRendererAnswersState,\r\n\tScreen,\r\n\tSubmissionState,\r\n\tSubmitActionTypes,\r\n} from './types';\r\n\r\nconst initialState: SwiperState = {\r\n\twalkPath: [],\r\n\twelcomeScreens: [],\r\n\tthankyouScreens: [],\r\n\tcurrentBlockId: undefined,\r\n\tnextBlockId: undefined,\r\n\tlastActiveBlockId: undefined,\r\n\tprevBlockId: undefined,\r\n\tcorrectIncorrectDisplay: false,\r\n\tcanSwipeNext: false,\r\n\tcanSwipePrev: false,\r\n\tisCurrentBlockSafeToSwipe: true,\r\n\tisAnimating: true,\r\n\tisThankyouScreenActive: false,\r\n\tisWelcomeScreenActive: false,\r\n\tisReviewing: false,\r\n};\r\n\r\nconst swiper: Reducer<SwiperState, SwiperActionTypes> = (\r\n\tstate = initialState,\r\n\taction\r\n) => {\r\n\tconst {\r\n\t\twalkPath,\r\n\t\tisAnimating,\r\n\t\tcurrentBlockId,\r\n\t\tnextBlockId,\r\n\t\tprevBlockId,\r\n\t\tthankyouScreens,\r\n\t\tcorrectIncorrectDisplay\r\n\t} = state;\r\n\tswitch (action.type) {\r\n\t\tcase SET_SWIPER_STATE: {\r\n\t\t\tconst newSwiperState = action.swiperState;\r\n\t\t\tlet validBlocksStructure = true;\r\n\t\t\tforEach(\r\n\t\t\t\t['walkPath', 'welcomeScreens', 'thankyouScreens'],\r\n\t\t\t\t(blockCat) => {\r\n\t\t\t\t\tif (newSwiperState[blockCat]) {\r\n\t\t\t\t\t\tconst newBlockCat = newSwiperState[blockCat];\r\n\t\t\t\t\t\tif (!Array.isArray(newBlockCat)) {\r\n\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// check if  structure isn't correct\r\n\t\t\t\t\t\tif (newBlockCat.length > 0) {\r\n\t\t\t\t\t\t\tforEach(newBlockCat, (item) => {\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\ttypeof item === 'object' &&\r\n\t\t\t\t\t\t\t\t\titem != null &&\r\n\t\t\t\t\t\t\t\t\titem.id &&\r\n\t\t\t\t\t\t\t\t\ttypeof item.id === 'string'\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\tsize(item.attributes) > 0 &&\r\n\t\t\t\t\t\t\t\t\t\ttypeof item.attributes !== 'object'\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (blockCat === 'walkPath') {\r\n\t\t\t\t\t\t\t\t\t\t// Check if the block has a name or it is a thank you screen or default thank you screen\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t(!item.hasOwnProperty('name') ||\r\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof item.name !==\r\n\t\t\t\t\t\t\t\t\t\t\t\t'string') &&\r\n\t\t\t\t\t\t\t\t\t\t\t!some(\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewSwiperState.thankyouScreens,\r\n\t\t\t\t\t\t\t\t\t\t\t\t(block) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblock.id === item.id\r\n\t\t\t\t\t\t\t\t\t\t\t) &&\r\n\t\t\t\t\t\t\t\t\t\t\titem.id !==\r\n\t\t\t\t\t\t\t\t\t\t\t'default_thankyou_screen'\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvalidBlocksStructure = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (!validBlocksStructure) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tconst newWalkPath = newSwiperState.walkPath\r\n\t\t\t\t? newSwiperState.walkPath\r\n\t\t\t\t: walkPath;\r\n\r\n\t\t\tconst newWelcomeScreens = newSwiperState.welcomeScreens\r\n\t\t\t\t? newSwiperState.welcomeScreens\r\n\t\t\t\t: state.welcomeScreens;\r\n\r\n\t\t\tconst newThanksScreens = newSwiperState.thankyouScreens\r\n\t\t\t\t? newSwiperState.thankyouScreens\r\n\t\t\t\t: state.thankyouScreens;\r\n\t\t\t// If  new current block id or new next block id or new prev block id or last active block id aren't\r\n\t\t\t// in the new walkPath\r\n\t\t\tlet checkCorrectIds = true;\r\n\t\t\t[\r\n\t\t\t\t'currentBlockId',\r\n\t\t\t\t'nextBlockId',\r\n\t\t\t\t'prevBlockId',\r\n\t\t\t\t'lastActiveBlockId',\r\n\t\t\t].forEach((prop) => {\r\n\t\t\t\tconst allBlocks: (Screen | FormBlock)[] = [\r\n\t\t\t\t\t...newWalkPath,\r\n\t\t\t\t\t...newWelcomeScreens,\r\n\t\t\t\t\t...newThanksScreens,\r\n\t\t\t\t];\r\n\t\t\t\tif (\r\n\t\t\t\t\tnewSwiperState[prop] &&\r\n\t\t\t\t\t!some(\r\n\t\t\t\t\t\tallBlocks,\r\n\t\t\t\t\t\t(block) =>\r\n\t\t\t\t\t\t\tblock.id === newSwiperState[prop] ||\r\n\t\t\t\t\t\t\tnewSwiperState[prop] === 'default_thankyou_screen'\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tcheckCorrectIds = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!checkCorrectIds) return state;\r\n\r\n\t\t\tlet correctBooleans = true;\r\n\r\n\t\t\t// if typeof  new boolean props isn't boolean.\r\n\t\t\t[\r\n\t\t\t\t'isAnimating',\r\n\t\t\t\t'canSwipeNext',\r\n\t\t\t\t'canSwipePrev',\r\n\t\t\t\t'isThankyouScreenActive',\r\n\t\t\t\t'isWelcomeScreenActive',\r\n\t\t\t].forEach((prop) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tnewSwiperState[prop] &&\r\n\t\t\t\t\ttypeof newSwiperState[prop] !== 'boolean'\r\n\t\t\t\t) {\r\n\t\t\t\t\tcorrectBooleans = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!correctBooleans) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\tconst newCurrentBlockId = newSwiperState.currentBlockId\r\n\t\t\t\t? newSwiperState.currentBlockId\r\n\t\t\t\t: currentBlockId;\r\n\t\t\tconst isFirstField =\r\n\t\t\t\tnewWalkPath?.length > 0 &&\r\n\t\t\t\tnewWalkPath[0].id == newCurrentBlockId;\r\n\r\n\t\t\tconst isLastField =\r\n\t\t\t\tnewWalkPath?.length > 0 &&\r\n\t\t\t\tnewWalkPath[newWalkPath.length - 1].id == newCurrentBlockId;\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...newSwiperState,\r\n\t\t\t\tcanSwipeNext:\r\n\t\t\t\t\tnewSwiperState.canSwipeNext === undefined\r\n\t\t\t\t\t\t? state.canSwipeNext\r\n\t\t\t\t\t\t: newSwiperState.canSwipeNext === true && isLastField\r\n\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t: newSwiperState.canSwipeNext,\r\n\t\t\t\tcanSwipePrev:\r\n\t\t\t\t\tnewSwiperState.canSwipePrev === undefined\r\n\t\t\t\t\t\t? state.canSwipePrev\r\n\t\t\t\t\t\t: newSwiperState.canSwipePrev === true && isFirstField\r\n\t\t\t\t\t\t\t? false\r\n\t\t\t\t\t\t\t: newSwiperState.canSwipePrev,\r\n\t\t\t\tisWelcomeScreenActive:\r\n\t\t\t\t\tnewWelcomeScreens.length &&\r\n\t\t\t\t\t\tsome(\r\n\t\t\t\t\t\t\tnewWelcomeScreens,\r\n\t\t\t\t\t\t\t(screen) => screen.id === newCurrentBlockId\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: false,\r\n\t\t\t\tisThankyouScreenActive:\r\n\t\t\t\t\tsome(\r\n\t\t\t\t\t\tnewThanksScreens,\r\n\t\t\t\t\t\t(screen) => screen.id === newCurrentBlockId\r\n\t\t\t\t\t) || 'default_thankyou_screen' === newCurrentBlockId\r\n\t\t\t\t\t\t? true\r\n\t\t\t\t\t\t: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase GO_NEXT: {\r\n\t\t\tif (isAnimating || correctIncorrectDisplay) return state;\r\n\t\t\tconst nextFieldType = walkPath.find(\r\n\t\t\t\t(block) => block.id === nextBlockId\r\n\t\t\t)?.name;\r\n\t\t\tif (!nextFieldType || nextFieldType === 'thankyou-screen') return state;\r\n\t\t\t// const isThereNextField =\r\n\t\t\t// \twalkPath.filter(\r\n\t\t\t// \t\t( block ) =>\r\n\t\t\t// \t\t\tblock.name !== 'welcome-screen' &&\r\n\t\t\t// \t\t\tblock.name !== 'thankyou-screen' &&\r\n\t\t\t// \t\t\tblock.id === nextBlockId\r\n\t\t\t// \t).length > 0;\r\n\t\t\t// const isReallyLastField =\r\n\t\t\t// \twalkPath?.length > 0 &&\r\n\t\t\t// \twalkPath[ walkPath.length - 1 ].id === currentBlockId &&\r\n\t\t\t// \t! isThereNextField;\r\n\t\t\t// if ( isReallyLastField ) return state;\r\n\t\t\tconst currentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t(field) => field.id === currentBlockId\r\n\t\t\t);\r\n\t\t\tlet $newCurrentBlockId = nextBlockId;\r\n\t\t\t// To check if the new current block is within the path, if it isn't, navigate to submission screen.\r\n\t\t\t// This should apply only when the next block is before the current block.\r\n\t\t\tconst newCurrentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t($field) => $field.id === $newCurrentBlockId\r\n\t\t\t);\r\n\r\n\t\t\tif (\r\n\t\t\t\tnewCurrentFieldIndex === -1 ||\r\n\t\t\t\tnewCurrentFieldIndex === currentFieldIndex\r\n\t\t\t) {\r\n\t\t\t\t$newCurrentBlockId = undefined;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipeNext: !$newCurrentBlockId ? false : true,\r\n\t\t\t\tcanSwipePrev: true,\r\n\t\t\t\tcurrentBlockId: $newCurrentBlockId,\r\n\t\t\t\tprevBlockId: $newCurrentBlockId\r\n\t\t\t\t\t? walkPath[newCurrentFieldIndex - 1]\r\n\t\t\t\t\t\t? walkPath[newCurrentFieldIndex - 1].id\r\n\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t: walkPath[walkPath.length - 1].id,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tnextBlockId:\r\n\t\t\t\t\tnewCurrentFieldIndex !== -1\r\n\t\t\t\t\t\t? walkPath[newCurrentFieldIndex + 1]\r\n\t\t\t\t\t\t\t? walkPath[newCurrentFieldIndex + 1].id\r\n\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t: nextBlockId,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase GO_PREV: {\r\n\t\t\tconst isFirstField =\r\n\t\t\t\twalkPath?.length > 0 && walkPath[0].id === currentBlockId;\r\n\r\n\t\t\tif (isAnimating || isFirstField || correctIncorrectDisplay) return state;\r\n\t\t\tconst currentFieldIndex = walkPath.findIndex(\r\n\t\t\t\t(field) => field.id === currentBlockId\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipePrev: walkPath[currentFieldIndex - 2] ? true : false,\r\n\t\t\t\tcanSwipeNext: true,\r\n\t\t\t\tcurrentBlockId: prevBlockId,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tnextBlockId: currentBlockId,\r\n\t\t\t\tprevBlockId: walkPath[currentFieldIndex - 2]?.id\r\n\t\t\t\t\t? walkPath[currentFieldIndex - 2].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_CORRECT_INCORRECT_DISPLAY: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcorrectIncorrectDisplay: val,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_CURRENT_BLOCK_SAFE_TO_SWIPE: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisCurrentBlockSafeToSwipe: val,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase GO_TO_BLOCK: {\r\n\t\t\tlet { id, forceUpdateState } = action;\r\n\t\t\tif (currentBlockId === id && !forceUpdateState) return state;\r\n\t\t\tconst isTheBlockWelcomeScreenBlock = state.welcomeScreens.some(\r\n\t\t\t\t(screen) => screen.id === id\r\n\t\t\t);\r\n\t\t\tconst isTheBlockThankyouScreenBlock = state.thankyouScreens.some(\r\n\t\t\t\t(screen) => screen.id === id\r\n\t\t\t);\r\n\r\n\t\t\tif (\r\n\t\t\t\tisTheBlockThankyouScreenBlock ||\r\n\t\t\t\tisTheBlockWelcomeScreenBlock\r\n\t\t\t) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentBlockId: id,\r\n\t\t\t\t\tisAnimating: true,\r\n\t\t\t\t\tcanSwipeNext: false,\r\n\t\t\t\t\tcanSwipePrev: false,\r\n\t\t\t\t\tnextBlockId: undefined,\r\n\t\t\t\t\tprevBlockId: undefined,\r\n\t\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\t\tisWelcomeScreenActive: isTheBlockWelcomeScreenBlock,\r\n\t\t\t\t\tisThankyouScreenActive: isTheBlockThankyouScreenBlock,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tlet fieldIndex = state.walkPath.findIndex(\r\n\t\t\t\t(field) => field.id === id\r\n\t\t\t);\r\n\r\n\t\t\t// If invalid parent block, try to search for inner blocks.\r\n\t\t\tif (\r\n\t\t\t\tfieldIndex === -1 &&\r\n\t\t\t\t!isTheBlockWelcomeScreenBlock &&\r\n\t\t\t\t!isTheBlockThankyouScreenBlock\r\n\t\t\t) {\r\n\t\t\t\tconst groupBlocks = state.walkPath.filter(\r\n\t\t\t\t\t(field) => field.name === 'group'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet parentId;\r\n\t\t\t\tforEach(groupBlocks, (groupBlock) => {\r\n\t\t\t\t\tif (groupBlock.innerBlocks) {\r\n\t\t\t\t\t\tconst childIndex = groupBlock.innerBlocks.findIndex(\r\n\t\t\t\t\t\t\t(childBlock) => childBlock.id === id\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (childIndex !== -1) {\r\n\t\t\t\t\t\t\tparentId = groupBlock.id;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!parentId) {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t}\r\n\t\t\t\tid = parentId;\r\n\t\t\t\tfieldIndex = state.walkPath.findIndex(\r\n\t\t\t\t\t(field) => field.id === id\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentBlockId: id,\r\n\t\t\t\tisAnimating: true,\r\n\t\t\t\tcanSwipeNext: walkPath[fieldIndex + 1] ? true : false,\r\n\t\t\t\tcanSwipePrev: walkPath[fieldIndex - 1] ? true : false,\r\n\t\t\t\tnextBlockId: walkPath[fieldIndex + 1]\r\n\t\t\t\t\t? walkPath[fieldIndex + 1].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tprevBlockId: walkPath[fieldIndex - 1]\r\n\t\t\t\t\t? walkPath[fieldIndex - 1].id\r\n\t\t\t\t\t: undefined,\r\n\t\t\t\tlastActiveBlockId: currentBlockId,\r\n\t\t\t\tisWelcomeScreenActive: false,\r\n\t\t\t\tisThankyouScreenActive: false,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_THANKYOU_SCREENS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tthankyouScreens: action.screens,\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase COMPLETE_FORM: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcanSwipeNext: false,\r\n\t\t\t\tcanSwipePrev: false,\r\n\t\t\t\tisThankyouScreenActive: true,\r\n\t\t\t\tcurrentBlockId: nextBlockId && state.thankyouScreens.find(screen => screen.id === nextBlockId)\r\n\t\t\t\t\t? nextBlockId\r\n\t\t\t\t\t: thankyouScreens[0]?.id\r\n\t\t\t\t\t\t? thankyouScreens[0].id\r\n\t\t\t\t\t\t: 'default_thankyou_screen',\r\n\t\t\t\tprevBlockId: undefined,\r\n\t\t\t\tnextBlockId: undefined,\r\n\t\t\t\tlastActiveBlockId: undefined,\r\n\t\t\t\tisReviewing: false,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn state;\r\n};\r\n\r\nconst isFocused: Reducer = (state = false, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_IS_FOCUSED: {\r\n\t\t\tif (typeof action.val !== 'boolean') {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn action.val;\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst footerDisplay: Reducer = (state = true, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_FOOTER_DISPLAY: {\r\n\t\t\tif (typeof action.val !== 'boolean') {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn action.val;\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst submit: Reducer<SubmissionState, SubmitActionTypes> = (\r\n\tstate = {\r\n\t\tisSubmitting: false,\r\n\t\tisReviewing: false,\r\n\t\tsubmissionErr: '',\r\n\t\tpaymentData: null,\r\n\t},\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase COMPLETE_FORM: {\r\n\t\t\treturn {\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t\tisReviewing: false,\r\n\t\t\t\tsubmissionErr: '',\r\n\t\t\t\tpaymentData: null,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_REVIEWING: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisReviewing: val,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_SUBMITTING: {\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSubmitting: val,\r\n\t\t\t\tsubmissionErr: '',\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_SUBMISSION_ERR: {\r\n\t\t\t// Make sure this action is called while the form is submitting already, otherwhise, do nothing.\r\n\t\t\tif (!state.isSubmitting) return state;\r\n\t\t\tconst { val } = action;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisSubmitting: false,\r\n\t\t\t\tsubmissionErr: val,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_PAYMENT_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentData: action.data,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn state;\r\n};\r\n\r\nconst answers: Reducer<RendererAnswersState, RendererAnswersActionTypes> = (\r\n\tstate = {},\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\t// Insert Empty Field Answer\r\n\t\tcase INSERT_EMPTY_FIELD_ANSWER: {\r\n\t\t\tconst { id, blockName } = action;\r\n\t\t\tconst answers = { ...state };\r\n\r\n\t\t\tif (!answers[id]) {\r\n\t\t\t\tanswers[id] = {\r\n\t\t\t\t\tvalue: undefined,\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\tisAnswered: false,\r\n\t\t\t\t\tisPending: false,\r\n\t\t\t\t\tpendingMsg: undefined,\r\n\t\t\t\t\tvalidationErr: undefined,\r\n\t\t\t\t\tisCorrect: undefined,\r\n\t\t\t\t\tisCorrectIncorrectScreenDisplayed: false,\r\n\t\t\t\t\tisLocked: false,\r\n\t\t\t\t\tblockName,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn answers;\r\n\t\t}\r\n\r\n\t\t// SET FIELD ANSWER\r\n\t\tcase SET_FIELD_ANSWER: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (val === state[id]?.value) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tvalue: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase RESET_ANSWERS: {\r\n\t\t\treturn {};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD VALID\r\n\t\tcase SET_IS_FIELD_VALID: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].isValid) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisValid: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD ANSWERED\r\n\t\tcase SET_IS_FIELD_ANSWERED: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].isAnswered) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisAnswered: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD ANSWER CORRECT\r\n\t\tcase SET_IS_FIELD_ANSWER_CORRECT: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].isCorrect) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisCorrect: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_FIELD_ANSWER_LOCKED: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// .\r\n\t\t\tif (!state[id] || val === state[id].isLocked) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisLocked: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase SET_IS_FIELD_CORRECT_INCORRECT_SCREEN_DISPLAYED: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// .\r\n\t\t\tif (!state[id] || val === state[id].isCorrectIncorrectScreenDisplayed) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisCorrectIncorrectScreenDisplayed: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET IS FIELD PENDING\r\n\t\tcase SET_IS_FIELD_PENDING: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].isPending) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tisPending: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET FIELD PENDING MSG\r\n\t\tcase SET_FIELD_PENDING_MSG: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].pendingMsg) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tpendingMsg: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// SET FIELD VALIDATION ERR\r\n\t\tcase SET_FIELD_VALIDATION_ERR: {\r\n\t\t\tconst { id, val } = action;\r\n\t\t\t// If the field id is incorrect or the value passed is the same value, return same state.\r\n\t\t\tif (!state[id] || val === state[id].validationErr) {\r\n\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[id]: {\r\n\t\t\t\t\t...state[id],\r\n\t\t\t\t\tvalidationErr: val,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\treturn state;\r\n};\r\n\r\n// @ts-ignore\r\nconst RendererCoreReducer: Reducer<\r\n\t{\r\n\t\tanswers: RendererAnswersState;\r\n\t\tfooterDisplay: boolean;\r\n\t\tisFocused: boolean;\r\n\t\tsubmit: SubmissionState;\r\n\t\tswiper: SwiperState;\r\n\t},\r\n\tany\r\n> = combineReducers({\r\n\tanswers,\r\n\tfooterDisplay,\r\n\tisFocused,\r\n\tsubmit,\r\n\tswiper,\r\n});\r\nexport type State = ReturnType<typeof RendererCoreReducer>;\r\n\r\nexport default RendererCoreReducer;\r\n"],"mappings":"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","ignoreList":[]}