{"version":3,"names":["useRef","useEffect","useTraceUpdate","props","prev","changedProps","Object","entries","reduce","lookup","key","value","current","keys","length"],"sources":["@quillforms/utils/src/use-trace-updates.ts"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\n\r\ninterface ObjectDict {\r\n\t[ index: string ]: any;\r\n}\r\n\r\nfunction useTraceUpdate( props: any ) {\r\n\tconst prev = useRef( props );\r\n\tuseEffect( () => {\r\n\t\tconst changedProps = Object.entries( props ).reduce(\r\n\t\t\t( lookup: ObjectDict, [ key, value ] ) => {\r\n\t\t\t\tif ( prev.current[ key ] !== value ) {\r\n\t\t\t\t\tlookup[ key ] = [ prev.current[ key ], value ];\r\n\t\t\t\t}\r\n\t\t\t\treturn lookup;\r\n\t\t\t},\r\n\t\t\t{}\r\n\t\t);\r\n\t\tif ( Object.keys( changedProps ).length > 0 ) {\r\n\t\t\t//console.log( 'Changed props:', changedProps );\r\n\t\t}\r\n\t\tprev.current = props;\r\n\t} );\r\n}\r\n\r\nexport default useTraceUpdate;\r\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAMzC,SAASC,cAAcA,CAAEC,KAAU,EAAG;EACrC,MAAMC,IAAI,GAAGJ,MAAM,CAAEG,KAAM,CAAC;EAC5BF,SAAS,CAAE,MAAM;IAChB,MAAMI,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAEJ,KAAM,CAAC,CAACK,MAAM,CAClD,CAAEC,MAAkB,EAAE,CAAEC,GAAG,EAAEC,KAAK,CAAE,KAAM;MACzC,IAAKP,IAAI,CAACQ,OAAO,CAAEF,GAAG,CAAE,KAAKC,KAAK,EAAG;QACpCF,MAAM,CAAEC,GAAG,CAAE,GAAG,CAAEN,IAAI,CAACQ,OAAO,CAAEF,GAAG,CAAE,EAAEC,KAAK,CAAE;MAC/C;MACA,OAAOF,MAAM;IACd,CAAC,EACD,CAAC,CACF,CAAC;IACD,IAAKH,MAAM,CAACO,IAAI,CAAER,YAAa,CAAC,CAACS,MAAM,GAAG,CAAC,EAAG;MAC7C;IAAA;IAEDV,IAAI,CAACQ,OAAO,GAAGT,KAAK;EACrB,CAAE,CAAC;AACJ;AAEA,eAAeD,cAAc","ignoreList":[]}