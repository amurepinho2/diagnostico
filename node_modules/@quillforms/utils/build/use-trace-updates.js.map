{"version":3,"names":["_react","require","useTraceUpdate","props","prev","useRef","useEffect","changedProps","Object","entries","reduce","lookup","key","value","current","keys","length","_default","exports","default"],"sources":["@quillforms/utils/src/use-trace-updates.ts"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\n\r\ninterface ObjectDict {\r\n\t[ index: string ]: any;\r\n}\r\n\r\nfunction useTraceUpdate( props: any ) {\r\n\tconst prev = useRef( props );\r\n\tuseEffect( () => {\r\n\t\tconst changedProps = Object.entries( props ).reduce(\r\n\t\t\t( lookup: ObjectDict, [ key, value ] ) => {\r\n\t\t\t\tif ( prev.current[ key ] !== value ) {\r\n\t\t\t\t\tlookup[ key ] = [ prev.current[ key ], value ];\r\n\t\t\t\t}\r\n\t\t\t\treturn lookup;\r\n\t\t\t},\r\n\t\t\t{}\r\n\t\t);\r\n\t\tif ( Object.keys( changedProps ).length > 0 ) {\r\n\t\t\t//console.log( 'Changed props:', changedProps );\r\n\t\t}\r\n\t\tprev.current = props;\r\n\t} );\r\n}\r\n\r\nexport default useTraceUpdate;\r\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAMA,SAASC,cAAcA,CAAEC,KAAU,EAAG;EACrC,MAAMC,IAAI,GAAG,IAAAC,aAAM,EAAEF,KAAM,CAAC;EAC5B,IAAAG,gBAAS,EAAE,MAAM;IAChB,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAO,CAAEN,KAAM,CAAC,CAACO,MAAM,CAClD,CAAEC,MAAkB,EAAE,CAAEC,GAAG,EAAEC,KAAK,CAAE,KAAM;MACzC,IAAKT,IAAI,CAACU,OAAO,CAAEF,GAAG,CAAE,KAAKC,KAAK,EAAG;QACpCF,MAAM,CAAEC,GAAG,CAAE,GAAG,CAAER,IAAI,CAACU,OAAO,CAAEF,GAAG,CAAE,EAAEC,KAAK,CAAE;MAC/C;MACA,OAAOF,MAAM;IACd,CAAC,EACD,CAAC,CACF,CAAC;IACD,IAAKH,MAAM,CAACO,IAAI,CAAER,YAAa,CAAC,CAACS,MAAM,GAAG,CAAC,EAAG;MAC7C;IAAA;IAEDZ,IAAI,CAACU,OAAO,GAAGX,KAAK;EACrB,CAAE,CAAC;AACJ;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEcjB,cAAc","ignoreList":[]}