{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = require(\"react\");\nvar _rendererCore = require(\"@quillforms/renderer-core\");\nvar _data = require(\"@wordpress/data\");\nvar _tinycolor = _interopRequireDefault(require(\"tinycolor2\"));\nvar _emotion = require(\"emotion\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar EmailValidator = _interopRequireWildcard(require(\"email-validator\"));\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function (e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n    default: e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n.default = e, t && t.set(e, n), n;\n}\n/**\r\n * QuillForms Dependencies\r\n */\n\n/**\r\n * WordPress Dependencies\r\n */\n\n/**\r\n * External Dependencies\r\n */\n\nconst EmailOutput = props => {\n  const {\n    id,\n    attributes,\n    setIsValid,\n    setIsAnswered,\n    setValidationErr,\n    showNextBtn,\n    val,\n    setVal,\n    showErrMsg,\n    next,\n    inputRef,\n    isTouchScreen,\n    setFooterDisplay,\n    isPreview,\n    isReviewing\n  } = props;\n  const theme = (0, _rendererCore.useBlockTheme)(attributes.themeId);\n  const messages = (0, _rendererCore.useMessages)();\n  const answersColor = (0, _tinycolor.default)(theme.answersColor);\n  const {\n    required,\n    placeholder\n  } = attributes;\n  const checkFieldValidation = value => {\n    if (required === true && (!value || value === '' || value.length === 0)) {\n      setIsValid(false);\n      setValidationErr(messages['label.errorAlert.required']);\n    } else if (value && !EmailValidator.validate(value) && value.length > 0) {\n      setIsValid(false);\n      setValidationErr(messages['label.errorAlert.email']);\n    } else {\n      setIsValid(true);\n      setValidationErr(null);\n    }\n  };\n  (0, _react.useEffect)(() => {\n    if (isPreview || !isReviewing) checkFieldValidation(val);\n  }, [required]);\n  const changeHandler = e => {\n    const value = e.target.value;\n    checkFieldValidation(value);\n    setVal(value);\n    showErrMsg(false);\n    if (!value) {\n      setIsAnswered(false);\n    } else {\n      setIsAnswered(true);\n      showNextBtn(true);\n    }\n  };\n  return (0, _react.createElement)(\"input\", {\n    ref: inputRef,\n    className: (0, _classnames.default)((0, _emotion.css)`\n\t\t\t\t\t& {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tborder: none !important;\n\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\tpadding-bottom: 8px !important;\n\t\t\t\t\t\tpadding-left: 0 !important;\n\t\t\t\t\t\tpadding-right: 0 !important;\n\t\t\t\t\t\tborder-radius: 0 !important;\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tbackground-color: transparent !important;\n\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\n\t\t\t\t\t\t-webkit-appearance: none;\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(0.3).toString()}\n\t\t\t\t\t\t\t0px 1px !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t&::placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&:-ms-input-placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Internet Explorer 10-11 */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&::-ms-input-placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Microsoft Edge */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&:focus {\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(1).toString()}\n\t\t\t\t\t\t\t0px 2px !important;\n\t\t\t\t\t\tborder: none !important;\n\t\t\t\t\t\toutline: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolor: ${theme.answersColor} !important;\n\t\t\t\t`),\n    id: 'email-' + id,\n    type: \"email\",\n    placeholder: placeholder === false ? messages['block.email.placeholder'] : placeholder,\n    onChange: changeHandler,\n    value: val && val.length > 0 ? val : '',\n    onFocus: () => {\n      if (isTouchScreen) {\n        setFooterDisplay(false);\n      }\n    },\n    onBlur: () => {\n      if (isTouchScreen) {\n        setFooterDisplay(true);\n      }\n    },\n    autoComplete: \"off\"\n  });\n};\nvar _default = exports.default = EmailOutput;","map":{"version":3,"names":["_react","require","_rendererCore","_data","_tinycolor","_interopRequireDefault","_emotion","_classnames","EmailValidator","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","EmailOutput","props","id","attributes","setIsValid","setIsAnswered","setValidationErr","showNextBtn","val","setVal","showErrMsg","next","inputRef","isTouchScreen","setFooterDisplay","isPreview","isReviewing","theme","useBlockTheme","themeId","messages","useMessages","answersColor","required","placeholder","checkFieldValidation","value","length","validate","useEffect","changeHandler","target","createElement","ref","className","css","setAlpha","toString","type","onChange","onFocus","onBlur","autoComplete","_default","exports"],"sources":["/Users/amurepinho/Documents/GitHub/diagnostico/node_modules/@quillforms/blocklib-email-block/build/renderer/@quillforms/blocklib-email-block/src/renderer/display.js"],"sourcesContent":["/**\r\n * QuillForms Dependencies\r\n */\r\nimport { useMessages, useBlockTheme } from '@quillforms/renderer-core';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useEffect } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport tinyColor from 'tinycolor2';\r\nimport { css } from 'emotion';\r\nimport classnames from 'classnames';\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nconst EmailOutput = (props) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes,\r\n\t\tsetIsValid,\r\n\t\tsetIsAnswered,\r\n\t\tsetValidationErr,\r\n\t\tshowNextBtn,\r\n\t\tval,\r\n\t\tsetVal,\r\n\t\tshowErrMsg,\r\n\t\tnext,\r\n\t\tinputRef,\r\n\t\tisTouchScreen,\r\n\t\tsetFooterDisplay,\r\n\t\tisPreview,\r\n\t\tisReviewing,\r\n\t} = props;\r\n\tconst theme = useBlockTheme(attributes.themeId);\r\n\tconst messages = useMessages();\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\tconst { required, placeholder } = attributes;\r\n\r\n\tconst checkFieldValidation = (value) => {\r\n\t\tif (\r\n\t\t\trequired === true &&\r\n\t\t\t(!value || value === '' || value.length === 0)\r\n\t\t) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.required']);\r\n\t\t} else if (\r\n\t\t\tvalue &&\r\n\t\t\t!EmailValidator.validate(value) &&\r\n\t\t\tvalue.length > 0\r\n\t\t) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.email']);\r\n\t\t} else {\r\n\t\t\tsetIsValid(true);\r\n\t\t\tsetValidationErr(null);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isPreview || !isReviewing) checkFieldValidation(val);\r\n\t}, [required]);\r\n\r\n\tconst changeHandler = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tcheckFieldValidation(value);\r\n\t\tsetVal(value);\r\n\t\tshowErrMsg(false);\r\n\t\tif (!value) {\r\n\t\t\tsetIsAnswered(false);\r\n\t\t} else {\r\n\t\t\tsetIsAnswered(true);\r\n\t\t\tshowNextBtn(true);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<input\r\n\t\t\tref={inputRef}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tcss`\r\n\t\t\t\t\t& {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder: none !important;\r\n\t\t\t\t\t\toutline: none;\r\n\t\t\t\t\t\tpadding-bottom: 8px !important;\r\n\t\t\t\t\t\tpadding-left: 0 !important;\r\n\t\t\t\t\t\tpadding-right: 0 !important;\r\n\t\t\t\t\t\tborder-radius: 0 !important;\r\n\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\tbackground-color: transparent !important;\r\n\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\r\n\t\t\t\t\t\t-webkit-appearance: none;\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(0.3).toString()}\r\n\t\t\t\t\t\t\t0px 1px !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Internet Explorer 10-11 */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Microsoft Edge */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(1).toString()}\r\n\t\t\t\t\t\t\t0px 2px !important;\r\n\t\t\t\t\t\tborder: none !important;\r\n\t\t\t\t\t\toutline: none !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcolor: ${theme.answersColor} !important;\r\n\t\t\t\t`\r\n\t\t\t)}\r\n\t\t\tid={'email-' + id}\r\n\t\t\ttype=\"email\"\r\n\t\t\tplaceholder={\r\n\t\t\t\tplaceholder === false\r\n\t\t\t\t\t? messages['block.email.placeholder']\r\n\t\t\t\t\t: placeholder\r\n\t\t\t}\r\n\t\t\tonChange={changeHandler}\r\n\t\t\tvalue={val && val.length > 0 ? val : ''}\r\n\t\t\tonFocus={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(false);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonBlur={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tautoComplete=\"off\"\r\n\t\t/>\r\n\t);\r\n};\r\nexport default EmailOutput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}