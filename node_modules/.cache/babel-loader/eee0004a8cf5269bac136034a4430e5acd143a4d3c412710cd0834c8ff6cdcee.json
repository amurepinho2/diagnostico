{"ast":null,"code":"import { createElement } from \"react\";\n/**\r\n * WordPress Dependencies\r\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\r\n * External Dependencies\r\n */\nimport classnames from 'classnames';\nimport { css } from 'emotion';\n\n/**\r\n * Internal Dependencies\r\n */\nimport { useCurrentTheme, useFormContext, useFormSettings } from '../../hooks';\nimport DownIcon from './down-icon';\nimport UpIcon from './up-icon';\nimport useCorrectIncorrectQuiz from '../../hooks/use-correct-incorrect-quiz';\nconst FieldNavigation = ({\n  shouldFooterBeDisplayed\n}) => {\n  const {\n    goNext,\n    goPrev,\n    setIsCurrentBlockSafeToSwipe,\n    setIsFieldValid,\n    setIsFieldPending,\n    setFieldValidationErr,\n    goToBlock,\n    setCorrectIncorrectDisplay,\n    setIsFieldCorrectIncorrectScreenDisplayed\n  } = useDispatch('quillForms/renderer-core');\n  const {\n    beforeGoingNext\n  } = useFormContext();\n  const theme = useCurrentTheme();\n  const settings = useFormSettings();\n  const correctIncorrectQuiz = useCorrectIncorrectQuiz();\n  const {\n    currentBlockId,\n    walkPath,\n    blockTypes,\n    correctIncorrectDisplay\n  } = useSelect(select => {\n    return {\n      currentBlockId: select('quillForms/renderer-core').getCurrentBlockId(),\n      walkPath: select('quillForms/renderer-core').getWalkPath(),\n      blockTypes: select('quillForms/blocks').getBlockTypes(),\n      correctIncorrectDisplay: select('quillForms/renderer-core').getCorrectIncorrectDisplay()\n    };\n  });\n  if (!currentBlockId) return null;\n  const currentBlockIndex = walkPath.findIndex(block => block.id === currentBlockId);\n  const currentBlockName = walkPath[currentBlockIndex]?.name;\n  const currentBlockType = blockTypes?.[currentBlockName];\n  const {\n    isCurrentBlockValid,\n    answers,\n    isFieldCorrectIncorrectScreenDisplayed\n  } = useSelect(select => {\n    return {\n      answers: select('quillForms/renderer-core').getAnswers(),\n      isCurrentBlockValid: currentBlockType?.supports?.innerBlocks ? select('quillForms/renderer-core')?.hasValidFields(currentBlockId) : currentBlockType?.supports?.editable ? select('quillForms/renderer-core')?.isValidField(currentBlockId) : true,\n      isFieldCorrectIncorrectScreenDisplayed: select('quillForms/renderer-core').isFieldCorrectIncorrectScreenDisplayed(currentBlockId)\n    };\n  });\n  const goNextReally = async () => {\n    if (answers[currentBlockIndex]?.isPending) return;\n    if (beforeGoingNext && currentBlockId) {\n      await beforeGoingNext({\n        answers,\n        currentBlockId,\n        setIsFieldValid,\n        setFieldValidationErr,\n        setIsCurrentBlockSafeToSwipe,\n        goToBlock,\n        goNext,\n        setIsPending: val => setIsFieldPending(currentBlockId, val)\n      });\n    } else {\n      if (correctIncorrectQuiz?.enabled && correctIncorrectDisplay === false && currentBlockType.supports.correctAnswers && !isFieldCorrectIncorrectScreenDisplayed) {\n        setCorrectIncorrectDisplay(true);\n        setIsFieldCorrectIncorrectScreenDisplayed(currentBlockId, true);\n        return;\n      }\n      goNext();\n    }\n  };\n  return createElement(\"div\", {\n    className: classnames('renderer-core-field-navigation', {\n      hidden: !shouldFooterBeDisplayed\n    })\n  }, createElement(\"div\", {\n    className: classnames('renderer-core-field-navigation__up-icon', {\n      rotate: settings?.animationDirection === 'horizontal'\n    }, css`\n\t\t\t\t\t\tbackground: ${theme.buttonsBgColor};\n\t\t\t\t\t`),\n    onClick: () => {\n      goPrev();\n    }\n  }, createElement(UpIcon, null)), createElement(\"div\", {\n    className: classnames('renderer-core-field-navigation__down-icon', {\n      rotate: settings?.animationDirection === 'horizontal'\n    }, css`\n\t\t\t\t\t\tbackground: ${theme.buttonsBgColor};\n\t\t\t\t\t`),\n    onClick: () => {\n      if (walkPath[walkPath.length - 1].id !== currentBlockId) {\n        if (isCurrentBlockValid) {\n          goNextReally();\n        } else {\n          setIsCurrentBlockSafeToSwipe(false);\n        }\n      }\n    }\n  }, createElement(DownIcon, null)));\n};\nexport default FieldNavigation;","map":{"version":3,"names":["useSelect","useDispatch","classnames","css","useCurrentTheme","useFormContext","useFormSettings","DownIcon","UpIcon","useCorrectIncorrectQuiz","FieldNavigation","shouldFooterBeDisplayed","goNext","goPrev","setIsCurrentBlockSafeToSwipe","setIsFieldValid","setIsFieldPending","setFieldValidationErr","goToBlock","setCorrectIncorrectDisplay","setIsFieldCorrectIncorrectScreenDisplayed","beforeGoingNext","theme","settings","correctIncorrectQuiz","currentBlockId","walkPath","blockTypes","correctIncorrectDisplay","select","getCurrentBlockId","getWalkPath","getBlockTypes","getCorrectIncorrectDisplay","currentBlockIndex","findIndex","block","id","currentBlockName","name","currentBlockType","isCurrentBlockValid","answers","isFieldCorrectIncorrectScreenDisplayed","getAnswers","supports","innerBlocks","hasValidFields","editable","isValidField","goNextReally","isPending","setIsPending","val","enabled","correctAnswers","createElement","className","hidden","rotate","animationDirection","buttonsBgColor","onClick","length"],"sources":["/Users/amurepinho/Documents/GitHub/diagnostico/node_modules/@quillforms/renderer-core/build-module/components/field-navigation/@quillforms/renderer-core/src/components/field-navigation/index.tsx"],"sourcesContent":["/**\r\n * WordPress Dependencies\r\n */\r\nimport { useSelect, useDispatch } from '@wordpress/data';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport classnames from 'classnames';\r\nimport { css } from 'emotion';\r\n\r\n/**\r\n * Internal Dependencies\r\n */\r\nimport { useCurrentTheme, useFormContext, useFormSettings } from '../../hooks';\r\nimport DownIcon from './down-icon';\r\nimport UpIcon from './up-icon';\r\nimport useCorrectIncorrectQuiz from '../../hooks/use-correct-incorrect-quiz';\r\n\r\nconst FieldNavigation = ({ shouldFooterBeDisplayed }) => {\r\n\tconst {\r\n\t\tgoNext,\r\n\t\tgoPrev,\r\n\t\tsetIsCurrentBlockSafeToSwipe,\r\n\t\tsetIsFieldValid,\r\n\t\tsetIsFieldPending,\r\n\t\tsetFieldValidationErr,\r\n\t\tgoToBlock,\r\n\t\tsetCorrectIncorrectDisplay,\r\n\t\tsetIsFieldCorrectIncorrectScreenDisplayed\r\n\t} = useDispatch('quillForms/renderer-core');\r\n\tconst { beforeGoingNext } = useFormContext();\r\n\tconst theme = useCurrentTheme();\r\n\tconst settings = useFormSettings();\r\n\tconst correctIncorrectQuiz = useCorrectIncorrectQuiz();\r\n\tconst { currentBlockId, walkPath, blockTypes, correctIncorrectDisplay } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\tcurrentBlockId: select(\r\n\t\t\t\t'quillForms/renderer-core'\r\n\t\t\t).getCurrentBlockId(),\r\n\t\t\twalkPath: select('quillForms/renderer-core').getWalkPath(),\r\n\t\t\tblockTypes: select('quillForms/blocks').getBlockTypes(),\r\n\t\t\tcorrectIncorrectDisplay: select('quillForms/renderer-core').getCorrectIncorrectDisplay(),\r\n\t\t};\r\n\t});\r\n\tif (!currentBlockId) return null;\r\n\tconst currentBlockIndex = walkPath.findIndex(\r\n\t\t(block) => block.id === currentBlockId\r\n\t);\r\n\r\n\tconst currentBlockName = walkPath[currentBlockIndex]?.name;\r\n\r\n\tconst currentBlockType = blockTypes?.[currentBlockName];\r\n\r\n\tconst { isCurrentBlockValid, answers, isFieldCorrectIncorrectScreenDisplayed } = useSelect((select) => {\r\n\t\treturn {\r\n\t\t\tanswers: select('quillForms/renderer-core').getAnswers(),\r\n\t\t\tisCurrentBlockValid: currentBlockType?.supports?.innerBlocks\r\n\t\t\t\t? select('quillForms/renderer-core')?.hasValidFields(\r\n\t\t\t\t\tcurrentBlockId\r\n\t\t\t\t)\r\n\t\t\t\t: currentBlockType?.supports?.editable\r\n\t\t\t\t\t? select('quillForms/renderer-core')?.isValidField(\r\n\t\t\t\t\t\tcurrentBlockId\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: true,\r\n\t\t\tisFieldCorrectIncorrectScreenDisplayed: select('quillForms/renderer-core').isFieldCorrectIncorrectScreenDisplayed(currentBlockId)\r\n\t\t};\r\n\t});\r\n\r\n\tconst goNextReally = async () => {\r\n\t\tif (answers[currentBlockIndex]?.isPending) return;\r\n\t\tif (beforeGoingNext && currentBlockId) {\r\n\t\t\tawait beforeGoingNext({\r\n\t\t\t\tanswers,\r\n\t\t\t\tcurrentBlockId,\r\n\t\t\t\tsetIsFieldValid,\r\n\t\t\t\tsetFieldValidationErr,\r\n\t\t\t\tsetIsCurrentBlockSafeToSwipe,\r\n\t\t\t\tgoToBlock,\r\n\t\t\t\tgoNext,\r\n\t\t\t\tsetIsPending: (val) =>\r\n\t\t\t\t\tsetIsFieldPending(currentBlockId, val),\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (correctIncorrectQuiz?.enabled &&\r\n\t\t\t\tcorrectIncorrectDisplay === false &&\r\n\t\t\t\tcurrentBlockType.supports.correctAnswers &&\r\n\t\t\t\t!isFieldCorrectIncorrectScreenDisplayed\r\n\t\t\t) {\r\n\t\t\t\tsetCorrectIncorrectDisplay(true);\r\n\t\t\t\tsetIsFieldCorrectIncorrectScreenDisplayed(currentBlockId, true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgoNext();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames('renderer-core-field-navigation', {\r\n\t\t\t\thidden: !shouldFooterBeDisplayed,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'renderer-core-field-navigation__up-icon',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trotate: settings?.animationDirection === 'horizontal',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${theme.buttonsBgColor};\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tgoPrev();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<UpIcon />\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'renderer-core-field-navigation__down-icon',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trotate: settings?.animationDirection === 'horizontal',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcss`\r\n\t\t\t\t\t\tbackground: ${theme.buttonsBgColor};\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\twalkPath[walkPath.length - 1].id !== currentBlockId\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tif (isCurrentBlockValid) {\r\n\t\t\t\t\t\t\tgoNextReally();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetIsCurrentBlockSafeToSwipe(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<DownIcon />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default FieldNavigation;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}