{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = require(\"react\");\nvar _rendererCore = require(\"@quillforms/renderer-core\");\nvar _tinycolor = _interopRequireDefault(require(\"tinycolor2\"));\nvar _emotion = require(\"emotion\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n/* eslint-disable no-nested-ternary */\n/**\r\n * QuillForms Depndencies\r\n */\n\n/**\r\n * WordPress Dependencies\r\n */\n\n/**\r\n * External Dependencies\r\n */\n\nconst NumberOutput = props => {\n  const {\n    id,\n    attributes,\n    setIsValid,\n    setIsAnswered,\n    setValidationErr,\n    showNextBtn,\n    blockWithError,\n    val,\n    setVal,\n    showErrMsg,\n    inputRef,\n    isTouchScreen,\n    setFooterDisplay,\n    isPreview,\n    isReviewing\n  } = props;\n  const {\n    setMax,\n    max,\n    setMin,\n    min,\n    required,\n    placeholder\n  } = attributes;\n  const messages = (0, _rendererCore.useMessages)();\n  const theme = (0, _rendererCore.useBlockTheme)(attributes.themeId);\n  const answersColor = (0, _tinycolor.default)(theme.answersColor);\n  const checkfieldValidation = value => {\n    if (required === true && value !== 0 && (!value || value === '')) {\n      setIsValid(false);\n      setValidationErr(messages['label.errorAlert.required']);\n    } else if (setMax && max > 0 && value > max) {\n      setIsValid(false);\n      setValidationErr(messages['label.errorAlert.maxNum']);\n    } else if (setMin && min >= 0 && value < min) {\n      setIsValid(false);\n      setValidationErr(messages['label.errorAlert.minNum']);\n    } else {\n      setIsValid(true);\n      setValidationErr(null);\n    }\n  };\n  (0, _react.useEffect)(() => {\n    if (isPreview || !isReviewing) checkfieldValidation(val);\n  }, [attributes]);\n  const changeHandler = e => {\n    e.preventDefault();\n    const value = e.target.value;\n    if (isNaN(value)) {\n      blockWithError(messages['label.errorAlert.number']);\n      return;\n    }\n    if (value !== 0 && !value) {\n      setVal('');\n      checkfieldValidation('');\n      setIsAnswered(false);\n    } else {\n      const newVal = value == 0 ? 0 : parseInt(value);\n      setVal(newVal);\n      showErrMsg(false);\n      checkfieldValidation(newVal);\n      setIsAnswered(true);\n    }\n  };\n  let specialProps = {};\n  if (isTouchScreen) {\n    specialProps = {\n      type: 'number'\n    };\n  }\n  return (0, _react.createElement)(\"input\", {\n    ...specialProps,\n    ref: inputRef,\n    className: (0, _classnames.default)((0, _emotion.css)`\n\t\t\t\t\t& {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tborder: none !important;\n\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\tpadding-bottom: 8px;\n\t\t\t\t\t\tborder-radius: 0 !important;\n\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\tbackground-color: transparent !important;\n\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(0.3).toString()}\n\t\t\t\t\t\t\t0px 1px !important;\n\n\t\t\t\t\t\t-moz-appearance: textfield;\n\t\t\t\t\t\t-webkit-appearance: none;\n\t\t\t\t\t\t&::-webkit-outer-spin-button,\n\t\t\t\t\t\t&::-webkit-inner-spin-button {\n\t\t\t\t\t\t\t-webkit-appearance: none;\n\t\t\t\t\t\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&::placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&:-ms-input-placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Internet Explorer 10-11 */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&::-ms-input-placeholder {\n\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t/* Microsoft Edge */\n\t\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t\t}\n\n\t\t\t\t\t&:focus {\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(1).toString()}\n\t\t\t\t\t\t\t0px 2px !important;\n\t\t\t\t\t\tborder: none !important;\n\t\t\t\t\t\toutline: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolor: ${theme.answersColor};\n\t\t\t\t`),\n    id: 'number-' + id,\n    placeholder: placeholder === false ? messages['block.number.placeholder'] : placeholder,\n    onChange: changeHandler,\n    value: val || val === 0 ? val : '',\n    onFocus: () => {\n      if (isTouchScreen) {\n        setFooterDisplay(false);\n      }\n    },\n    onWheel: e => e.target.blur(),\n    onBlur: () => {\n      if (isTouchScreen) {\n        setFooterDisplay(true);\n      }\n    },\n    autoComplete: \"off\"\n  });\n};\nvar _default = exports.default = NumberOutput;","map":{"version":3,"names":["_react","require","_rendererCore","_tinycolor","_interopRequireDefault","_emotion","_classnames","NumberOutput","props","id","attributes","setIsValid","setIsAnswered","setValidationErr","showNextBtn","blockWithError","val","setVal","showErrMsg","inputRef","isTouchScreen","setFooterDisplay","isPreview","isReviewing","setMax","max","setMin","min","required","placeholder","messages","useMessages","theme","useBlockTheme","themeId","answersColor","default","checkfieldValidation","value","useEffect","changeHandler","e","preventDefault","target","isNaN","newVal","parseInt","specialProps","type","createElement","ref","className","css","setAlpha","toString","onChange","onFocus","onWheel","blur","onBlur","autoComplete","_default","exports"],"sources":["/Users/amurepinho/Documents/GitHub/diagnostico/node_modules/@quillforms/blocklib-number-block/build/renderer/@quillforms/blocklib-number-block/src/renderer/display.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/**\r\n * QuillForms Depndencies\r\n */\r\nimport { useMessages, useBlockTheme } from '@quillforms/renderer-core';\r\n\r\n/**\r\n * WordPress Dependencies\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * External Dependencies\r\n */\r\nimport tinyColor from 'tinycolor2';\r\nimport { css } from 'emotion';\r\nimport classnames from 'classnames';\r\n\r\nconst NumberOutput = (props) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tattributes,\r\n\t\tsetIsValid,\r\n\t\tsetIsAnswered,\r\n\t\tsetValidationErr,\r\n\t\tshowNextBtn,\r\n\t\tblockWithError,\r\n\t\tval,\r\n\t\tsetVal,\r\n\t\tshowErrMsg,\r\n\t\tinputRef,\r\n\t\tisTouchScreen,\r\n\t\tsetFooterDisplay,\r\n\t\tisPreview,\r\n\t\tisReviewing,\r\n\t} = props;\r\n\tconst { setMax, max, setMin, min, required, placeholder } = attributes;\r\n\tconst messages = useMessages();\r\n\tconst theme = useBlockTheme(attributes.themeId);\r\n\tconst answersColor = tinyColor(theme.answersColor);\r\n\r\n\tconst checkfieldValidation = (value) => {\r\n\t\tif (required === true && value !== 0 && (!value || value === '')) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.required']);\r\n\t\t} else if (setMax && max > 0 && value > max) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.maxNum']);\r\n\t\t} else if (setMin && min >= 0 && value < min) {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tsetValidationErr(messages['label.errorAlert.minNum']);\r\n\t\t} else {\r\n\t\t\tsetIsValid(true);\r\n\t\t\tsetValidationErr(null);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isPreview || !isReviewing) checkfieldValidation(val);\r\n\t}, [attributes]);\r\n\r\n\tconst changeHandler = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst value = e.target.value;\r\n\t\tif (isNaN(value)) {\r\n\t\t\tblockWithError(messages['label.errorAlert.number']);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (value !== 0 && !value) {\r\n\t\t\tsetVal('');\r\n\t\t\tcheckfieldValidation('');\r\n\t\t\tsetIsAnswered(false);\r\n\t\t} else {\r\n\t\t\tconst newVal = value == 0 ? 0 : parseInt(value);\r\n\t\t\tsetVal(newVal);\r\n\t\t\tshowErrMsg(false);\r\n\t\t\tcheckfieldValidation(newVal);\r\n\t\t\tsetIsAnswered(true);\r\n\t\t}\r\n\t};\r\n\r\n\tlet specialProps = {};\r\n\tif (isTouchScreen) {\r\n\t\tspecialProps = {\r\n\t\t\ttype: 'number',\r\n\t\t};\r\n\t}\r\n\treturn (\r\n\t\t<input\r\n\t\t\t{...specialProps}\r\n\t\t\tref={inputRef}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tcss`\r\n\t\t\t\t\t& {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder: none !important;\r\n\t\t\t\t\t\toutline: none;\r\n\t\t\t\t\t\tpadding-bottom: 8px;\r\n\t\t\t\t\t\tborder-radius: 0 !important;\r\n\t\t\t\t\t\tbackground: transparent;\r\n\t\t\t\t\t\tbackground-color: transparent !important;\r\n\t\t\t\t\t\ttransition: box-shadow 0.1s ease-out 0s;\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(0.3).toString()}\r\n\t\t\t\t\t\t\t0px 1px !important;\r\n\r\n\t\t\t\t\t\t-moz-appearance: textfield;\r\n\t\t\t\t\t\t-webkit-appearance: none;\r\n\t\t\t\t\t\t&::-webkit-outer-spin-button,\r\n\t\t\t\t\t\t&::-webkit-inner-spin-button {\r\n\t\t\t\t\t\t\t-webkit-appearance: none;\r\n\t\t\t\t\t\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Chrome, Firefox, Opera, Safari 10.1+ */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Internet Explorer 10-11 */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&::-ms-input-placeholder {\r\n\t\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\t\t/* Microsoft Edge */\r\n\t\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:focus {\r\n\t\t\t\t\t\tbox-shadow: ${answersColor.setAlpha(1).toString()}\r\n\t\t\t\t\t\t\t0px 2px !important;\r\n\t\t\t\t\t\tborder: none !important;\r\n\t\t\t\t\t\toutline: none !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcolor: ${theme.answersColor};\r\n\t\t\t\t`\r\n\t\t\t)}\r\n\t\t\tid={'number-' + id}\r\n\t\t\tplaceholder={\r\n\t\t\t\tplaceholder === false\r\n\t\t\t\t\t? messages['block.number.placeholder']\r\n\t\t\t\t\t: placeholder\r\n\t\t\t}\r\n\t\t\tonChange={changeHandler}\r\n\t\t\tvalue={val || val === 0 ? val : ''}\r\n\t\t\tonFocus={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(false);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonWheel={(e) => e.target.blur()}\r\n\t\t\tonBlur={() => {\r\n\t\t\t\tif (isTouchScreen) {\r\n\t\t\t\t\tsetFooterDisplay(true);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tautoComplete=\"off\"\r\n\t\t/>\r\n\t);\r\n};\r\nexport default NumberOutput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}